<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="胡博靖" />


    
    


<meta name="description" content="通信工程|学生|程序员|互联网|通信|研发|科技|IT|工程师|图像处理|软件|前端|应用|本科|大四">
<meta property="og:type" content="website">
<meta property="og:title" content="胡博靖的技术博客">
<meta property="og:url" content="http://hubojing.github.io/index.html">
<meta property="og:site_name" content="胡博靖的技术博客">
<meta property="og:description" content="通信工程|学生|程序员|互联网|通信|研发|科技|IT|工程师|图像处理|软件|前端|应用|本科|大四">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="胡博靖的技术博客">
<meta name="twitter:description" content="通信工程|学生|程序员|互联网|通信|研发|科技|IT|工程师|图像处理|软件|前端|应用|本科|大四">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="胡博靖的技术博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/green/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>胡博靖的技术博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="http://p5.qhimg.com/t01a5b53a260b7fddda.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">胡博靖</a></h1>
        </hgroup>

        
        <p class="header-subtitle">小清新工科女旅程　　　为中华之崛起而读书</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/about/">关于</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/categories/互联网">互联网</a></li>
                        
                            <li><a href="/categories/通信工程">通信工程</a></li>
                        
                            <li><a href="/categories/杂谈">杂谈</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa 网易云音乐" href="http://music.163.com/#/user/home?id=92203594" title="网易云音乐"></a>
                            
                                <a class="fa QQ" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/1602/">1602</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DigitalOcean/">DigitalOcean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flash/">Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC/">MFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PPT动画/">PPT动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/">idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matlab/">matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photoshop/">photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主题/">主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优化/">优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数/">函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创意/">创意</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动画/">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单片机/">单片机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/域名/">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多说/">多说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/密码锁/">密码锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌入式系统/">嵌入式系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维/">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思考/">思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数字信号处理/">数字信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/显示技术/">显示技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/矩阵键盘/">矩阵键盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/竞赛/">竞赛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/说明/">说明</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/问题/">问题</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.domeyi.com/">小忆</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.iwangyu.cn/">WangYu</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://ursb.me/">Airing</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://txiner.top/">Hundred</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.ersaijun.cn/">二赛君</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.yeqianfeng.me/">太阳尚远</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.qiujinfeng.com/">邱锦锋</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.ibertinelym.com/">李玉明</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.waydrow.com/">Waydrow</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://qqdie.com/">Jrotty</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.just666.cn/">Shawn</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://theask.cn/">该问</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.sfantree.com/">水番林</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://hsmouc.com/">空白</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.61mon.com/">刘毅</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.pokerboy.cn/">柚子鬼</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://zcheng.ren/">ZeeCoder</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.zcmol.cn/">早茶月光</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://rebootcat.com/">Linux之路</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.townwang.com/">王振镇</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://shawnzeng.com/">Shawnzeng</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.52itstyle.com/">小柒博客</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">人生如编程，自顶而下，逐步求精。</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">胡博靖</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="http://p5.qhimg.com/t01a5b53a260b7fddda.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">胡博靖</a></h1>
            </hgroup>
            
            <p class="header-subtitle">小清新工科女旅程　　　为中华之崛起而读书</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/about/">关于</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/互联网">互联网</a></li>
                
                    <li><a href="/categories/通信工程">通信工程</a></li>
                
                    <li><a href="/categories/杂谈">杂谈</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" target="_blank" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa 网易云音乐" target="_blank" href="http://music.163.com/#/user/home?id=92203594" title="网易云音乐"></a>
                            
                                <a class="fa QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-折腾才是人生" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/04/21/折腾才是人生/" class="article-date">
      <time datetime="2017-04-20T16:02:54.000Z" itemprop="datePublished">2017-04-21</time>
</a>

 
    <a href="/2017/04/21/折腾才是人生/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/04/21/折腾才是人生/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/折腾才是人生/">折腾才是人生</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://image.baidu.com/search/detail?ct=503316480&amp;z=undefined&amp;tn=baiduimagedetail&amp;ipn=d&amp;word=%E6%97%A0%E5%A5%88&amp;step_word=&amp;ie=utf-8&amp;in=&amp;cl=2&amp;lm=-1&amp;st=undefined&amp;cs=3721037394,4097336666&amp;os=2123263276,85422001&amp;simid=3125827062,3903161400&amp;pn=36&amp;rn=1&amp;di=27586266180&amp;ln=1993&amp;fr=&amp;fmq=1492705456245_R&amp;fm=&amp;ic=undefined&amp;s=undefined&amp;se=&amp;sme=&amp;tab=0&amp;width=undefined&amp;height=undefined&amp;face=undefined&amp;is=0,0&amp;istype=0&amp;ist=&amp;jit=&amp;bdtype=0&amp;spn=0&amp;pi=0&amp;gsm=0&amp;hs=2&amp;objurl=http%3A%2F%2Fwww.qq1234.org%2Fuploads%2Fallimg%2F150415%2F8_150415165441_5.jpg&amp;rpstart=0&amp;rpnum=0&amp;adpicid=0&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>其实是一篇吐槽贴和一个标准的Flag。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<p>虽然现在天色已深，哦，应该说是凌晨了，明天还要早起。但！我真的还是想吐槽……</p>
<p>一篇文章怎么可以没有目录？ 啊？啊？啊？ 要我一篇上万字的文章怎么翻…… （于是抛弃了yilia,hueman）
（认真脸：我试过给hueman加目录的，一个toc函数，明明很简单的样子……然后就把主题玩崩了，其实要还原还是可以的，只是我对没目录的怨念很深呐）</p>
<p>为什么每一种主题评论的格式都不能统一一下……我终于找到每换一次主题就丢评论的解决方法了……（虽然数据量有点庞大，周末看有没有时间搞定）</p>
<p>为什么换个主题，不蒜子计数就从头开始！（尤其是近期更换频繁）现在都打算不显示点击数（网站点击和每篇文章浏览量）了（几千的点击噢，好气）……（百度统计什么的用过，然而还是直接显示出来方便（主要是显得网站有人气哈哈哈）其实到底有几个人看，无所谓啦~）</p>
<p>快五月了，好愁，多说到底用什么替换？？</p>
<p>另外，真的，图床贴图还没有CSDN博客上图来得方便。（比如刚才上传三十几张图，要是图床的话自己要不停复制外链，那效率可想而知。）</p>
<p>综上所述，
　　<strong>这都是自己不会写主题的后果！！！</strong></p>
<p>Flag: 　　
　　现在不敢说完全独立写一个主题出来（主要是时间、精力、学习工作、学习方向的问题），毕竟博客以文章质量为主，但我希望今年能修改出自己满意的样子来……</p>
<p>&lt;span id=&quot;busuanzi_container_page_pv&quot;&gt;
本文已被阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt; 次。感谢您的点击！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/主题/">主题</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MFC傻瓜式教程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/04/13/MFC傻瓜式教程/" class="article-date">
      <time datetime="2017-04-13T14:26:01.000Z" itemprop="datePublished">2017-04-13</time>
</a>

 
    <a href="/2017/04/13/MFC傻瓜式教程/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/04/13/MFC傻瓜式教程/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/13/MFC傻瓜式教程/">MFC傻瓜式教程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170413231922633?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;
　　很多技术书废话连篇。——公司某优秀工程师
　　（本教程重操作，轻理论，为操作减负。需了解详细原理的朋友可以自行看各种书籍。）
　　直接上菜。</p>
<p>&lt;/div&gt;</p>
<p></p>
<p>&lt;!--more--&gt;</p>
<p>MFC：Microsoft Foundation Class ，微软基础类库。</p>
<h1 id="对话框">对话框</h1>
<h2 id="对话框的创建和显示">对话框的创建和显示</h2>
<ol>
<li>
<p>新建MFC AppWizard(exe)工程，单文档类型。工程名：Mybole。编译运行。
<img src="http://img.blog.csdn.net/20170413231922633?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="新建"></p>
</li>
<li>
<p>点击帮助-关于Mybole。这是MFC自动创建的。
<img src="http://img.blog.csdn.net/20170413231954758?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="关于"></p>
</li>
<li>
<p>创建自己的对话框。点击Insert-Resource。选择Dialog，点击New。VC++自动将其标识设置为IDD_DIALOG1，并自动添加到ResourceView-Dialog项中。Dialog项下还有一个对话框资源标识：IDD_ABOUTBOX，即上一步中的“关于”对话框。
<img src="http://img.blog.csdn.net/20170413232035196?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Insert Resource对话框"></p>
</li>
</ol>
<p><img src="http://img.blog.csdn.net/20170413232222055?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="新建的对话框资源"></p>
<ol start="4">
<li>选中对话框本身，右键点击属性。将Caption设置为“测试”。</li>
<li>选择View-ClassWizard，点击create a new class，OK。出现下图，并输入下图选项。
<img src="http://img.blog.csdn.net/20170413232907845?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="New Class"></li>
<li>在随后出现的MFC ClassWizard对话框上点击OK。
<img src="http://img.blog.csdn.net/20170413233804513?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="列表">
<strong>注意</strong>：看看左侧类列表中是否添加好了CTestDlg，否则会影响后续操作。</li>
</ol>
<p>接下来，我们希望在程序中显示这个对话窗口。</p>
<ol start="7">
<li>
<p>点击右侧菜单Menu，选中IDR_MAINFRAME。点击帮助旁边的虚线框。
<img src="http://img.blog.csdn.net/20170413233914861?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Menu"></p>
</li>
<li>
<p>对虚线框右键属性，修改为下图。
<img src="http://img.blog.csdn.net/20170413234011986?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="属性"></p>
</li>
<li>
<p>关闭属性。点击View-ClassWizard（中文是建立类向导），选择CMyboleView，用COMMAND命令消息响应函数。如图。
<img src="http://img.blog.csdn.net/20170414000004060?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="COMMAND"></p>
</li>
</ol>
<h3 id="模态对话框的创建">模态对话框的创建</h3>
<p>需要调用CDialog类的成员函数：DoModal，它能创建并显示一个模态对话框，其返回值将作为CDialog类的另一个成员函数：EndDialog的参数，后者功能是关闭模态对话框。</p>
<p>在FileView中选择MyboleView.cpp，编写程序。
　　记得在开头添加头文件 #include “testdlg.h” （头文件大小写问题，linux区分，windows不区分）
<img src="http://img.blog.csdn.net/20170414000303079?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="编程">
　　显示模态对话框的具体实现代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMyboleView::OnDialog() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your command handler code here</span></div><div class="line">	CTestDlg dlg;</div><div class="line">	dlg.DoModal();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>编译运行，点击对话框。会发现若不确认该窗口，将无法点击其他窗口。
<img src="http://img.blog.csdn.net/20170414000500779?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="模态对话框1"></p>
<p><img src="http://img.blog.csdn.net/20170414000612202?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="模态对话框2"></p>
<h3 id="非模态对话框的创建">非模态对话框的创建</h3>
<p>将上面的模态对话框代码注释掉。</p>
<p>改为：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMyboleView::OnDialog() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your command handler code here</span></div><div class="line">	<span class="comment">//CTestDlg dlg;</span></div><div class="line">	<span class="comment">//dlg.DoModal();</span></div><div class="line"></div><div class="line">	CTestDlg *pDlg = <span class="keyword">new</span> CTestDlg;</div><div class="line">	pDlg-&gt;Create(IDD_DIALOG1,<span class="keyword">this</span>);</div><div class="line">	pDlg-&gt;ShowWindow(SW_SHOW);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>注意</strong>：需要把之前运行的对话框关掉才能编译成功。</p>
<p>然而，当它生命周期结束时，所保存的内存地址就丢失了，那么程序中也就无法再引用到它所指向的那块内存。于是，我们这样解决该问题。
<img src="http://img.blog.csdn.net/20170414000901869?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="MFC ClassWizard"></p>
<p><strong>注意</strong>：Message里双击添加函数或者点击add Class…</p>
<p>void CTestDlg::PostNcDestroy()
{
	// TODO: Add your specialized code here and/or call the base class
	delete this;
	CDialog::PostNcDestroy();
}</p>
<p><strong>区别</strong>：点击确定，对话框都会消失。但是，模态对话框窗口对象被销毁了。对非模态对话框来说，只是隐藏起来了，并未被销毁。
因此，若要销毁对话框，若有一个ID为IDOK的按钮，就必须重写基类的OnOK这个虚函数，并在重写的函数中调用DestroyWindow函数，完成销毁。并不要再调用基类的OnOK函数。
同样地，若有一个ID为IDCANCEL的按钮，也必须重写基类的OnCancel虚函数，并在重写的函数中调用DestroyWindow函数，完成销毁。并不要再调用基类的OnCancel函数。</p>
<h1 id="动态创建按钮">动态创建按钮</h1>
<p>注释掉非模态对话框代码，还原模态对话框代码。</p>
<p>点击ResourceView-IDD_DIALOG1，打开资源，用鼠标拖出控件面板上的Button按钮控件，对按钮右键，选择属性，设置如下。
<img src="http://img.blog.csdn.net/20170414001008658?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="按钮"></p>
<p>接下来，我们实现当单击Add按钮时，在对话框中动态创建一个按钮这一功能。</p>
<ol>
<li>为CTestDlg类添加一个私有的CButton成员变量。
　　点击ClassView标签页右键，如图点击。
<img src="http://img.blog.csdn.net/20170414001252061?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="ClassView"></li>
</ol>
<p>填入信息。
<img src="http://img.blog.csdn.net/20170414001335972?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="添加成员变量"></p>
<ol start="2">
<li>添加Add按钮单击消息的响应函数。
　　按钮点右键，选ClassWizard（建立类向导），如图。
<img src="http://img.blog.csdn.net/20170414001137294?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="建立类向导"></li>
</ol>
<p>单击Edit Code，即可定位到该函数定义处。
　　添加一下代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your control notification handler code here</span></div><div class="line">	m_btn.Create(<span class="string">"New"</span>,BS_DEFPUSHBUTTON | WS_VISIBLE | WS_CHILD,</div><div class="line">				 CRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="keyword">this</span>,<span class="number">123</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>为避免多次点击Add出现非法操作，我们需要进行如下步骤。</p>
<ol start="3">
<li>
<p>为CTestDlg类增加一个私有的BOOL类型成员变量。
变量类型：BOOL
变量名称：m_bIsCreated
Access: private</p>
</li>
<li>
<p>在TestDlg.cpp中找到构造函数，将m_bIsCreated初始为FALSE。如图所示。
<img src="http://img.blog.csdn.net/20170415152155489?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
</li>
</ol>
<p>或者改为如下亦可。
Static BOOL bIsCreated = FALSE;</p>
<ol start="5">
<li>回到Add，双击它，进入代码部分，改之。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your control notification handler code here</span></div><div class="line">	<span class="keyword">if</span>(m_bIsCreated==FALSE)</div><div class="line">	&#123;</div><div class="line">	m_btn.Create(<span class="string">"New"</span>,BS_DEFPUSHBUTTON | WS_VISIBLE | WS_CHILD,</div><div class="line">				CRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="keyword">this</span>,<span class="number">123</span>);</div><div class="line">	m_bIsCreated = TRUE;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		m_btn.DestroyWindow();</div><div class="line">		m_bIsCreated = FALSE;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></li>
</ol>
<p>或者以下亦能实现。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your control notification handler code here</span></div><div class="line">	<span class="keyword">if</span>(!m_btn.m_hWnd)</div><div class="line">	&#123;</div><div class="line">	m_btn.Create(<span class="string">"New"</span>,BS_DEFPUSHBUTTON | WS_VISIBLE | WS_CHILD,</div><div class="line">				CRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="keyword">this</span>,<span class="number">123</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		m_btn.DestroyWindow();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果：
　　<img src="http://img.blog.csdn.net/20170415152224880?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>点击Add出现New窗口，再点击就销毁。</p>
<h2 id="控件的访问">控件的访问</h2>
<h3 id="控件的调整">控件的调整</h3>
<p>用Layout-Align，Layout-Make Same Size，Layout-Space Evenly里的选项进行调整。
<img src="http://img.blog.csdn.net/20170415152247131?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="静态文本控件">静态文本控件</h3>
<p>查看三个静态文本框，它们ID相同。我们可以更改第一个静态文本框ID为IDC_NUMBER1，再打开ClassWizard，可以在ObjectIDs看到新ID。
<img src="http://img.blog.csdn.net/20170415152324147?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　对BN_CLICKED进行Add Function，并Edit Code:</p>
<p>此时运行程序点击第一个静态文本框并没有反应。这是因为：<strong>静态文本控件在默认状态下是不发送通告消息的</strong>。</p>
<p>为了该控件能向父窗口发送鼠标事件，我们对该文本框右键-属性，切换到styles选项卡，勾上Notify。
<img src="http://img.blog.csdn.net/20170415152341882?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>现在可以显示了：
　　点击就改变。
<img src="http://img.blog.csdn.net/20170415152354773?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><strong>总结：为了使一个静态文本控件能够响应鼠标单击消息，那么需要进行两个特殊的步骤：第一步，改变它的ID；第二步，在它的属性对话框中选中Notify选项。</strong></p>
<h3 id="编辑框控件">编辑框控件</h3>
<p>利用上面的对话框实现这样的功能：在前两个编辑框中分别输入一个数字，然后单击Add按钮，对前两个编辑框中的数字求和，并将结果显示在第三个编辑框中。</p>
<h4 id="第一种方式">第一种方式</h4>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="keyword">char</span> ch1[<span class="number">10</span>], ch2[<span class="number">10</span>], ch3[<span class="number">10</span>]; </div><div class="line">	GetDlgItem(IDC_EDIT1)-&gt;GetWindowText(ch1,<span class="number">10</span>); </div><div class="line">	GetDlgItem(IDC_EDIT2)-&gt;GetWindowText(ch2,<span class="number">10</span>);</div><div class="line"></div><div class="line">	num1 = atoi(ch1); </div><div class="line">	num2 = atoi(ch2); </div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	itoa(num3,ch3,<span class="number">10</span>);</div><div class="line">	GetDlgItem(IDC_EDIT3)-&gt;SetWindowText(ch3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>C语言转换函数：atoi 将一个由数字组成的字符串转换为相应的数值
itoa 数值转换为文本
itoa函数的第三个参数表示转换的进制，数字10表示十进制。</p>
<p>效果：
<img src="http://img.blog.csdn.net/20170415152409742?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h4 id="第二种方式">第二种方式</h4>
<p>代码如下：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="keyword">char</span> ch1[<span class="number">10</span>], ch2[<span class="number">10</span>], ch3[<span class="number">10</span>]; </div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT1)-&gt;GetWindowText(ch1,10); </span></div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT2)-&gt;GetWindowText(ch2,10);</span></div><div class="line">	</div><div class="line">	GetDlgItemText(IDC_EDIT1,ch1,<span class="number">10</span>);</div><div class="line">	GetDlgItemText(IDC_EDIT2,ch2,<span class="number">10</span>);</div><div class="line"></div><div class="line">	num1 = atoi(ch1); </div><div class="line">	num2 = atoi(ch2); </div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	itoa(num3,ch3,<span class="number">10</span>);</div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT3)-&gt;SetWindowText(ch3);</span></div><div class="line">	SetDlgItemText(IDC_EDIT3,ch3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>GetDlgItemText 将返回对话框中指定ID的控件上的文本，相当于将上面的GetDlgItem和GetWindowText这两个函数功能组合起来了。
与之对应的是SetDlgItemText，用来设置对话框中指定ID的控件上的文本。</p>
<h4 id="第三种方式">第三种方式</h4>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="comment">//char ch1[10], ch2[10], ch3[10]; </span></div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT1)-&gt;GetWindowText(ch1,10); </span></div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT2)-&gt;GetWindowText(ch2,10);</span></div><div class="line">	</div><div class="line">	<span class="comment">//GetDlgItemText(IDC_EDIT1,ch1,10);</span></div><div class="line">	<span class="comment">//GetDlgItemText(IDC_EDIT2,ch2,10);</span></div><div class="line"></div><div class="line">	num1 = GetDlgItemInt(IDC_EDIT1);</div><div class="line">	num2 = GetDlgItemInt(IDC_EDIT2);</div><div class="line"></div><div class="line">	<span class="comment">//num1 = atoi(ch1); </span></div><div class="line">	<span class="comment">//num2 = atoi(ch2); </span></div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	<span class="comment">//itoa(num3,ch3,10);</span></div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT3)-&gt;SetWindowText(ch3);</span></div><div class="line">	<span class="comment">//SetDlgItemText(IDC_EDIT3,ch3);</span></div><div class="line">	SetDlgItemInt(IDC_EDIT3,num3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="第四种方式">第四种方式</h4>
<p>将这三个编辑框分别与对话框类的三个成员变量相关联，然后通过这些成员变量来检索和设置编辑框的文本，这是最简单的访问控件的方式。
打开ClassWizard对话框，切换到Member Variables选项卡，如图。
<img src="http://img.blog.csdn.net/20170415152431039?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　首先为IDC_EDIT1编辑框添加一个关联的成员变量，方法是在Control IDs列表中选中IDC_EDIT1，再单击Add Variable按钮，如图。
<img src="http://img.blog.csdn.net/20170415152451118?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
<img src="http://img.blog.csdn.net/20170415152505259?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>同样地，为IDC_EDIT2和IDC_EDIT3分别添加好成员变量。
　　接着修改代码：</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	UpdateData();</div><div class="line">	m_num3 = m_num1 + m_num2;</div><div class="line">	UpdateData(FALSE);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对编辑框控件中输入的数值设定一个范围：
　　打开ClassWizard-Member Variable，选中IDC_EDIT1，下方输入0和100。同样为IDC_EDIT2也设置好。
<img src="http://img.blog.csdn.net/20170415152522025?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h4 id="第五种方式">第五种方式</h4>
<p>将编辑框控件再与一个变量相关联，代表控件本身。为IDC_EDIT1增加一个控件类型的变量：m_edit1，类别为Control。同样地，也为IDC_EDIT2和IDC_EDIT3添加。
<img src="http://img.blog.csdn.net/20170415152547447?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="keyword">char</span> ch1[<span class="number">10</span>], ch2[<span class="number">10</span>], ch3[<span class="number">10</span>]; </div><div class="line">	</div><div class="line">	m_edit1.GetWindowText(ch1,<span class="number">10</span>);</div><div class="line">	m_edit2.GetWindowText(ch2,<span class="number">10</span>);</div><div class="line"></div><div class="line">	<span class="comment">//num1 = GetDlgItemInt(IDC_EDIT1);</span></div><div class="line">	<span class="comment">//num2 = GetDlgItemInt(IDC_EDIT2);</span></div><div class="line"></div><div class="line">	num1 = atoi(ch1); </div><div class="line">	num2 = atoi(ch2); </div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	itoa(num3,ch3,<span class="number">10</span>);</div><div class="line">	m_edit3.SetWindowText(ch3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="第六种方式">第六种方式</h4>
<p>修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="keyword">char</span> ch1[<span class="number">10</span>], ch2[<span class="number">10</span>], ch3[<span class="number">10</span>]; </div><div class="line"></div><div class="line">	::SendMessage(GetDlgItem(IDC_EDIT1)-&gt;m_hWnd, WM_GETTEXT, <span class="number">10</span>, (LPARAM)ch1);</div><div class="line">	::SendMessage(m_edit2.m_hWnd, WM_GETTEXT, <span class="number">10</span>, (LPARAM)ch2);</div><div class="line"></div><div class="line">	num1 = atoi(ch1); </div><div class="line">	num2 = atoi(ch2); </div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	itoa(num3,ch3,<span class="number">10</span>);</div><div class="line">	m_edit3.SendMessage(WM_SETTEXT, <span class="number">0</span>, (LPARAM)ch3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="第七种方式">第七种方式</h4>
<p>修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnBtnAdd() </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> num1, num2, num3; </div><div class="line">	<span class="keyword">char</span> ch1[<span class="number">10</span>], ch2[<span class="number">10</span>], ch3[<span class="number">10</span>]; </div><div class="line">	</div><div class="line">	SendDlgItemMessage(IDC_EDIT1, WM_GETTEXT, <span class="number">10</span>, (LPARAM)ch1);</div><div class="line">	SendDlgItemMessage(IDC_EDIT2, WM_GETTEXT, <span class="number">10</span>, (LPARAM)ch2);</div><div class="line">	</div><div class="line">num1 = atoi(ch1); </div><div class="line">	num2 = atoi(ch2); </div><div class="line">	num3 = num1 + num2; </div><div class="line"></div><div class="line">	itoa(num3,ch3,<span class="number">10</span>);</div><div class="line">	SendDlgItemMessage(IDC_EDIT3, WM_SETTEXT, <span class="number">0</span>, (LPARAM)ch3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>获得编辑框复选的内容：
　　在上述代码最后添加：
	SendDlgItemMessage(IDC_EDIT3, EM_SETSEL, 0, -1); //0,-1表示全选若1,3表示选中1-3位复选
	m_edit3.SetFocus();</p>
<p>效果：
<img src="http://img.blog.csdn.net/20170415152614010?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h4 id="总结">总结</h4>
<p>1	GetDlgItem()-&gt;Get(Set)WindowTest()
2	GetDlgItemText()/SetDlgItemText()
3	GetDlgItemInt()/SetDlgItemInt()
4	将控件和整型变量相关联
5	将控件和控件变量相关联
6	SendMessage()
7	SendDlgItemMessage()
　　最常用是1、4、5。在利用MFC编程时，6、7用得少。</p>
<h2 id="对话框伸缩功能的实现">对话框伸缩功能的实现</h2>
<p>对话框上再添加一个按钮，Caption设置为“收缩&lt;&lt;”点击ClassWizard，添加一个命令相应函数（BN_CLICKED）。具体实现代码为：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnButton1() </div><div class="line">&#123;</div><div class="line">	CString str; </div><div class="line">	<span class="keyword">if</span>(GetDlgItemText(IDC_BUTTON1,str), str == <span class="string">"收缩&lt;&lt;"</span>)</div><div class="line">	&#123;</div><div class="line">		SetDlgItemText(IDC_BUTTON1, <span class="string">"拓展&gt;&gt;"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		SetDlgItemText(IDC_BUTTON1, <span class="string">"收缩&lt;&lt;"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>拖动一个图像控件来划分对话框中要动态切除的部分。
<img src="http://img.blog.csdn.net/20170415152648992?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>修改该控件ID为IDC_SEPATATOR，styles选项卡勾上Sunken选项。
　　修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnButton1() </div><div class="line">&#123;</div><div class="line">	CString str; </div><div class="line">	<span class="keyword">if</span>(GetDlgItemText(IDC_BUTTON1,str), str == <span class="string">"收缩&lt;&lt;"</span>)</div><div class="line">	&#123;</div><div class="line">		SetDlgItemText(IDC_BUTTON1, <span class="string">"拓展&gt;&gt;"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		SetDlgItemText(IDC_BUTTON1, <span class="string">"收缩&lt;&lt;"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">static</span> CRect rectLarge;</div><div class="line">	<span class="keyword">static</span> CRect rectSmall;</div><div class="line"></div><div class="line">	<span class="function">CRect <span class="title">rect1</span><span class="params">(<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>)</span></span>;</div><div class="line">	<span class="function">CRect <span class="title">rect2</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span></span>;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(rectLarge.IsRectNull())</div><div class="line">	&#123;</div><div class="line">		CRect rectSeparator;</div><div class="line">		GetWindowRect(&amp;rectLarge);</div><div class="line">		GetDlgItem(IDC_SEPARATOR)-&gt;GetWindowRect(&amp;rectSeparator);</div><div class="line"></div><div class="line">		rectSmall.left=rectLarge.left;</div><div class="line">		rectSmall.top=rectLarge.top;</div><div class="line">		rectSmall.right=rectLarge.right;</div><div class="line">		rectSmall.bottom=rectSeparator.bottom;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(str == <span class="string">"收缩&lt;&lt;"</span>)</div><div class="line">	&#123;</div><div class="line">		SetWindowPos(<span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, rectSmall.Width(), rectSmall.Height(), SWP_NOMOVE | SWP_NOZORDER);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		SetWindowPos(<span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, rectLarge.Width(), rectLarge.Height(), SWP_NOMOVE | SWP_NOZORDER);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果：
<img src="http://img.blog.csdn.net/20170415152705855?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>点击“收缩&lt;&lt;”：
<img src="http://img.blog.csdn.net/20170415152725793?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>若希望隐藏分隔条，则设置属性去掉“Visible”前的勾。</p>
<h2 id="输入焦点的传递">输入焦点的传递</h2>
<p>为了屏蔽掉默认的回车键关闭对话框这一功能，应该在对话框子类（此处是CTestDlg类）中重写OK按钮的消息响应函数。
　　首先点击OK按钮，添加鼠标单击消息响应函数。注释掉原有函数。</p>
<h3 id="法一">法一</h3>
<p>在ClassView选项卡的CTestDlg类添加WM_INITDIALOG消息的响应函数。对类右键，选择Add Windows Message Handler，在弹出的框左侧选择WM_INITDIALOG，直接单击Add and Edit，跳转。
　　修改代码为：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnOK() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add extra validation here</span></div><div class="line">	</div><div class="line">	<span class="comment">//CDialog::OnOK();</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">WNDPROC prevProc;</div><div class="line">	<span class="function">LRESULT CALLBACK <span class="title">NewEditProc</span><span class="params">(</span></span></div><div class="line">		HWND hwnd,</div><div class="line">		UINT uMsg,</div><div class="line">		WPARAM wParam,</div><div class="line">		LPARAM lParam</div><div class="line">		)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(uMsg == WM_CHAR &amp;&amp; wParam == <span class="number">0x0d</span>)</div><div class="line">		&#123;</div><div class="line">			::SetFocus(GetNextWindow(hwnd,GW_HWNDNEXT));</div><div class="line">			<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">return</span> prevProc(hwnd,uMsg,wParam,lParam);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">BOOL CTestDlg::OnInitDialog() </div><div class="line">&#123;</div><div class="line">	CDialog::OnInitDialog();</div><div class="line">	prevProc=(WNDPROC)SetWindowLong(GetDlgItem(IDC_EDIT1)-&gt;m_hWnd,</div><div class="line">		GWL_WNDPROC, (LONG)NewEditProc);</div><div class="line">	<span class="keyword">return</span> TRUE;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>查看第一个编辑框的属性，打开styles选项卡，勾上MultiLine（多行）。即可实现焦点的传递。</p>
<h3 id="法二">法二</h3>
<p>只需要改变一行代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">WNDPROC prevProc;</div><div class="line">	<span class="function">LRESULT CALLBACK <span class="title">NewEditProc</span><span class="params">(</span></span></div><div class="line">		HWND hwnd,</div><div class="line">		UINT uMsg,</div><div class="line">		WPARAM wParam,</div><div class="line">		LPARAM lParam</div><div class="line">		)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(uMsg == WM_CHAR &amp;&amp; wParam == <span class="number">0x0d</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="comment">//::SetFocus(GetNextWindow(hwnd,GW_HWNDNEXT));</span></div><div class="line">			SetFocus(::GetWindow(hwnd,GW_HWNDNEXT));</div><div class="line">			<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">return</span> prevProc(hwnd,uMsg,wParam,lParam);</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<h3 id="法三">法三</h3>
<p>编辑框属性有一个WS_TABSTOP，如果勾选了，则在对话框中按下Tab键后，输入焦点可以转移到此控件上。</p>
<p>修改一行代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">WNDPROC prevProc;</div><div class="line">	<span class="function">LRESULT CALLBACK <span class="title">NewEditProc</span><span class="params">(</span></span></div><div class="line">		HWND hwnd,</div><div class="line">		UINT uMsg,</div><div class="line">		WPARAM wParam,</div><div class="line">		LPARAM lParam</div><div class="line">		)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(uMsg == WM_CHAR &amp;&amp; wParam == <span class="number">0x0d</span>)</div><div class="line">		&#123;</div><div class="line">			SetFocus(::GetNextDlgTabItem(::GetParent(hwnd),hwnd,FALSE));</div><div class="line">			<span class="comment">//::SetFocus(GetNextWindow(hwnd,GW_HWNDNEXT));</span></div><div class="line">			<span class="comment">//SetFocus(::GetWindow(hwnd,GW_HWNDNEXT));</span></div><div class="line">			<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">return</span> prevProc(hwnd,uMsg,wParam,lParam);</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>三种方法的缺点：只修改了第一个编辑框的窗口过程，因此从第二到第三个编辑框的焦点转移无法实现，除非继续修改第二个编辑窗口。</p>
<p>再介绍一种方法解决这个问题。</p>
<h3 id="法四">法四</h3>
<p>在MFC中，默认情况下，当在对话框窗口中按下回车键时，会调用对话框的默认按钮的响应函数，我们可以在此默认按钮的响应函数中把焦点依次向下传递。</p>
<p>首先取消第一个编辑框的MultiLine。
　　接着修改OnOK函数为：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTestDlg::OnOK() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add extra validation here</span></div><div class="line">	<span class="comment">//GetDlgItem(IDC_EDIT1)-&gt;GetNextWindow()-&gt;SetFocus();</span></div><div class="line">	<span class="comment">//GetFocus()-&gt;GetNextWindow()-&gt;SetFocus();</span></div><div class="line">	<span class="comment">//GetFocus()-&gt;GetWindow(GW_HWNDNEXT)-&gt;SetFocus();</span></div><div class="line">	GetNextDlgTabItem(GetFocus())-&gt;SetFocus();</div><div class="line">	<span class="comment">//CDialog::OnOK();</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注释掉的部分是各种失败的尝试，各有各的bug。现在程序是正常的。</p>
<pre><code>**注意：然而该屏蔽回车键的方法并非是常规做法，应该在PreTranslateMessage中进行拦截。（return TRUE即拦截）**
</code></pre>
<p>具体做法：
　　现在Testdlg.h中添加：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> CTestDlg : <span class="keyword">public</span> CDialog</div><div class="line">&#123;</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">	<span class="function"><span class="keyword">virtual</span> BOOL <span class="title">PreTranslateMessage</span><span class="params">(MSG* pMsg)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnOK</span><span class="params">()</span></span>;</div><div class="line">……</div></pre></td></tr></table></figure></p>
<p>接着：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">CTestDlg::PreTranslateMessage(MSG* pMsg)</div><div class="line">&#123;</div><div class="line">	<span class="comment">//屏蔽ESC关闭窗体</span></div><div class="line">	<span class="keyword">if</span> (pMsg-&gt;message == WM_KEYDOWN &amp;&amp; pMsg-&gt;wParam == VK_ESCAPE)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> TRUE;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//屏蔽回车关闭窗体，但会导致回车在窗体上失效.</span></div><div class="line">	<span class="comment">/*</span></div><div class="line">	if (pMsg-&gt;message == WM_KEYDOWN &amp;&amp; pMsg-&gt;wParam == VK_RETURN &amp;&amp; pMsg-&gt;wParam)</div><div class="line">	&#123;</div><div class="line">		return TRUE;</div><div class="line">	&#125;</div><div class="line">	*/</div><div class="line">	<span class="keyword">else</span> </div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> CDialog::PreTranslateMessage(pMsg);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CTestDlg::OnOK() </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add extra validation here</span></div><div class="line">	</div><div class="line">	<span class="comment">//CDialog::OnOK();</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>点击Layout-Tab order，这些序号就是各控件的Tab顺序。顺序可改变，依次点击希望的顺序控件即可。</p>
<p>调用顺序：当用户按下回车键时，Windows将查看对话框中是否存在指定的默认按钮，如果有，就调用该默认按钮单击消息的响应函数。如果没有，就会调用虚拟的OnOK函数，即使对话框没有包含默认的OK按钮（这个默认OK按钮的ID是IDOK）。</p>
<h1 id="文件和注册表操作">文件和注册表操作</h1>
<h2 id="c语言对文件操作的支持">C语言对文件操作的支持</h2>
<p>新建单文档类型的MFC应用程序，工程名为File，并为主菜单添加一个子菜单，名称为“文件操作”，然后为其添加两个菜单项，并分别为它们添加相应的命令响应函数（通过COMMAND），让CFileView类接收这些菜单项的命令响应。
<img src="http://img.blog.csdn.net/20170420224900928?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
<img src="http://img.blog.csdn.net/20170420224921428?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="文件的打开和写入">文件的打开和写入</h3>
<p>代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"w"</span>);</div><div class="line">	fwrite(<span class="string">"http://www.sunxin.org"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>), pFile); </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>编译后可看到文件夹中生成了1.txt，打开有一行网址。</p>
<h3 id="文件的关闭">文件的关闭</h3>
<p>增加一行代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"w"</span>);</div><div class="line">	fwrite(<span class="string">"http://www.sunxin.org"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>), pFile); </div><div class="line">	fclose(pFile);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="文件指针定位">文件指针定位</h3>
<p>代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"w"</span>);</div><div class="line">	fwrite(<span class="string">"http://www.sunxin.org"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>), pFile); </div><div class="line">	fwrite(<span class="string">"欢迎访问"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"欢迎访问"</span>), pFile);</div><div class="line">	fclose(pFile);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>显示：http://www.sunxin.org欢迎访问</p>
<p>将文件指针移动到文件的开始位置处：
　　代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"w"</span>);</div><div class="line">	fwrite(<span class="string">"http://www.sunxin.org"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>), pFile); </div><div class="line">	fseek(pFile, <span class="number">0</span>, SEEK_SET);</div><div class="line">	fwrite(<span class="string">"ftp:"</span>, <span class="number">1</span>, <span class="built_in">strlen</span>(<span class="string">"ftp:"</span>),pFile);</div><div class="line">	<span class="comment">//fwrite("欢迎访问", 1, strlen("欢迎访问"), pFile);</span></div><div class="line">	fclose(pFile);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>显示：ftp:://www.sunxin.org</p>
<h3 id="文件的读取">文件的读取</h3>
<p>在OnFileRead函数中写入代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"r"</span>);</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">100</span>];</div><div class="line">	fread(ch, <span class="number">1</span>, <span class="number">100</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line">	MessageBox(ch);</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>编译运行：
　　
<img src="http://img.blog.csdn.net/20170420224951225?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>原因：C语言以“\0”结束。</p>
<p>解决方法：
　　法一：
　　修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"w"</span>);</div><div class="line">	<span class="keyword">char</span> buf[<span class="number">22</span>] = <span class="string">"http://www.sunxin.org"</span>;</div><div class="line">	buf[<span class="number">21</span>] = <span class="string">'\0'</span>;</div><div class="line">	fwrite(buf, <span class="number">1</span>, <span class="number">22</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>先点击写入文件，再点击读取文件，就可以看到正确的内容。
　　缺点：增加了文件大小。</p>
<p>法二：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"r"</span>);</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">100</span>];</div><div class="line">	<span class="built_in">memset</span>(ch, <span class="number">0</span>, <span class="number">100</span>);</div><div class="line">	fread(ch, <span class="number">1</span>, <span class="number">100</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line">	MessageBox(ch);</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>法三：
　　读取文件时，不知道文件大小时的做法。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"1.txt"</span>,<span class="string">"r"</span>);</div><div class="line">	<span class="keyword">char</span> *pBuf;</div><div class="line">	fseek(pFile, <span class="number">0</span>, SEEK_END);</div><div class="line">	<span class="keyword">int</span> len=ftell(pFile);</div><div class="line">	pBuf = <span class="keyword">new</span> <span class="keyword">char</span>[len+<span class="number">1</span>];</div><div class="line">	rewind(pFile);</div><div class="line">	fread(pBuf, <span class="number">1</span>, len, pFile);</div><div class="line">	pBuf[len] = <span class="number">0</span>;</div><div class="line">	fclose(pFile);</div><div class="line">	MessageBox(pBuf);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="二进制文件和文本文件">二进制文件和文本文件</h3>
<p>代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"2.txt"</span>, <span class="string">"w"</span>);</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">3</span>];</div><div class="line">	ch[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line">	ch[<span class="number">1</span>] = <span class="number">10</span>;</div><div class="line">	ch[<span class="number">2</span>] = <span class="string">'b'</span>;</div><div class="line">	fwrite(ch, <span class="number">1</span>, <span class="number">3</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"2.txt"</span>,<span class="string">"r"</span>);</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">100</span>];</div><div class="line">	fread(ch, <span class="number">1</span>, <span class="number">3</span>, pFile);</div><div class="line">	ch[<span class="number">3</span>] = <span class="number">0</span>;</div><div class="line">	fclose(pFile);</div><div class="line">	MessageBox(ch);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果：
　　
<img src="http://img.blog.csdn.net/20170420225018961?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>文本方式：10实际上是换行符的ASCII码。</p>
<p>以文本方式和二进制方式读取文件是有明显的区别的。</p>
<h3 id="文本方式和二进制方式">文本方式和二进制方式</h3>
<p>二进制方式：换行是由两个字符组成的，即ASCII码10（回车符）和13（换行符）。
　　写入和读取文件时要保持一致。如果采用文本方式写入，应采用文本方式读取；如果采用二进制方式写入数据，在读取时也应采用二进制方式。</p>
<p>面试题：给你一个整数，如：98341，将这个整数保存到文件中，要求在以记事本程序打开该文件时，显示的是：98341。
　　法一：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"3.txt"</span>, <span class="string">"w"</span>);</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">5</span>];</div><div class="line">	ch[<span class="number">0</span>] = <span class="number">9</span> + <span class="number">48</span>;</div><div class="line">	ch[<span class="number">1</span>] = <span class="number">8</span> + <span class="number">48</span>;</div><div class="line">	ch[<span class="number">2</span>] = <span class="number">3</span> + <span class="number">48</span>;</div><div class="line">	ch[<span class="number">3</span>] = <span class="number">4</span> + <span class="number">48</span>;</div><div class="line">	ch[<span class="number">4</span>] = <span class="number">1</span> + <span class="number">48</span>;</div><div class="line"></div><div class="line">	fwrite(ch, <span class="number">1</span>, <span class="number">5</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>或</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	FILE *pFile = fopen(<span class="string">"3.txt"</span>, <span class="string">"w"</span>);</div><div class="line">	<span class="keyword">int</span> i = <span class="number">98341</span>;</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">5</span>];</div><div class="line">	itoa(i, ch, <span class="number">10</span>);</div><div class="line"></div><div class="line">	fwrite(ch, <span class="number">1</span>, <span class="number">5</span>, pFile);</div><div class="line">	fclose(pFile);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>面试题：给定一个字符串，其中既有数字字符，又有26个英文字母中的几个字符，让你判断一下哪些是数字字符。</p>
<p>对这种问题，实际上就是判断各字符的ASCII码，对于数字字符来说，它们的ASCII码大于等于48，小于等于57。</p>
<h2 id="c对文件操作的支持">C++对文件操作的支持</h2>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	<span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">"4.txt"</span>)</span></span>;</div><div class="line">	ofs.write(<span class="string">"http://www.sunxin.org"</span>,<span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>));</div><div class="line">	ofs.close;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	<span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">"4.txt"</span>)</span></span>;</div><div class="line">	<span class="keyword">char</span> ch[<span class="number">100</span>];</div><div class="line">	<span class="built_in">memset</span>(ch, <span class="number">0</span>, <span class="number">100</span>);</div><div class="line">	ifs.read(ch,<span class="number">100</span>);</div><div class="line">	ifs.close();</div><div class="line">	MessageBox(ch);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="win32-api-对文件操作的支持">Win32 API 对文件操作的支持</h2>
<h3 id="文件的创建-打开和写入">文件的创建、打开和写入</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileWrite() </div><div class="line">&#123;</div><div class="line">	<span class="comment">//定义一个句柄变量</span></div><div class="line">	HANDLE hFile;</div><div class="line">	<span class="comment">//创建文件</span></div><div class="line">	hFile = CreateFile(<span class="string">"5.txt"</span>, GENERIC_WRITE, <span class="number">0</span>, <span class="literal">NULL</span>, CREATE_NEW, </div><div class="line">		FILE_ATTRIBUTE_NORMAL, <span class="literal">NULL</span>);</div><div class="line">	<span class="comment">//接收实际写入的字节数</span></div><div class="line">	DWORD dwWrites;</div><div class="line">	<span class="comment">//写入数据</span></div><div class="line">	WriteFile(hFile,<span class="string">"http://www.sunxin.org"</span>,<span class="built_in">strlen</span>(<span class="string">"http://www.sunxin.org"</span>),</div><div class="line">		&amp;dwWrites, <span class="literal">NULL</span>);</div><div class="line">	<span class="comment">//关闭文件句柄</span></div><div class="line">	CloseHandle(hFile);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="文件的读取">文件的读取</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CFileView::OnFileRead() </div><div class="line">&#123;</div><div class="line">	HANDLE hFile;</div><div class="line">	<span class="comment">//打开文件</span></div><div class="line">	hFile = CreateFile(<span class="string">"5.txt"</span>, GENERIC_READ, <span class="number">0</span>, <span class="literal">NULL</span>, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, <span class="literal">NULL</span>);</div><div class="line">	<span class="comment">//接收实际收到的数据</span></div><div class="line">	<span class="keyword">char</span> ch[<span class="number">100</span>];</div><div class="line">	<span class="comment">//接收实际读取到的字节数</span></div><div class="line">	DWORD dwReads;</div><div class="line">	<span class="comment">//读取数据</span></div><div class="line">	ReadFile(hFile, ch, <span class="number">100</span>, &amp;dwReads, <span class="literal">NULL</span>);</div><div class="line">	<span class="comment">//设置字符串结束字符</span></div><div class="line">	ch[dwReads] = <span class="number">0</span>;</div><div class="line">	<span class="comment">//关闭打开的文件对象的句柄</span></div><div class="line">	CloseHandle(hFile);</div><div class="line">	<span class="comment">//显示读取到的数据</span></div><div class="line">	MessageBox(ch);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="菜单">菜单</h1>
<h2 id="菜单命令响应函数">菜单命令响应函数</h2>
<p>新建一个单文档的MFC AppWizard(exe)工程，工程名为Menu。Build运行。</p>
<p><img src="http://img.blog.csdn.net/20170420225058617?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　左上角点击按钮，可以让属性框始终显示，不会因为点击对话框以外的地方就消失。
　　去掉Pop-up弹出前的勾，将ID改为ID_TEST。给Test添加响应函数在CMainFrame中，在函数中加入	MessageBox(&quot;MainFrame Clicked&quot;);
　　效果：
<img src="http://img.blog.csdn.net/20170420225116851?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="菜单命令的路由">菜单命令的路由</h2>
<h3 id="程序类对菜单命令的响应顺序">程序类对菜单命令的响应顺序</h3>
<p>响应Test
　　菜单项命令的顺序依次是：视类、文档类、框架类，最后才是应用程序类。</p>
<h3 id="windows消息的分类">Windows消息的分类</h3>
<p>凡是从CWnd派生的类，它们既可以接收标准消息，也可以接收命令消息和通告消息。而对于那些从CCmdTarget派生的类，则只能接收命令消息和通告消息，不能接收标准消息。
本例中的文档类（CMenuDoc）和应用程序类（CWinApp），因为它们都派生于CCmdTarget类，所以它们可以接收菜单命令消息。但它们不是从CWnd类派生的，所以不能接收标准消息。</p>
<h3 id="菜单命令的路由">菜单命令的路由</h3>
<p>菜单命令消息路由的具体过程：当点击某个菜单项时，最先接收到这个菜单命令消息的是框架类。框架类将把接收到的这个消息交给它的子窗口，即视类，由视类首先进行处理。视类首先根据命令消息映射机制查找自身是否对此消息进行了响应，如果响应了，就调用相应响应函数对这个消息进行处理，消息路由过程结束；如果视类没有对此命令消息做出响应，就交由文档类，文档类同样查找自身是否对这个菜单命令进行了响应，如果响应了，就由文档类的命令消息响应函数进行处理，路由过程结束。如果文档类也未做出响应，就把这个命令消息交还给视类，后者又把该消息交还给框架类。框架类查看自己是否对这个命令消息进行了响应，如果它也没有做出响应，就把这个菜单命令消息交给应用程序类，由后者来进行处理。</p>
<h2 id="基本菜单操作">基本菜单操作</h2>
<h3 id="标记菜单">标记菜单</h3>
<p>运行刚才创建的Menu程序，点击查看，前面都有一个对号，这种类型就是标记菜单。
在CMainFrame类的OnCreate的return语句之前添加这句代码	GetMenu()-&gt;GetSubMenu(0)-&gt;CheckMenuItem(0, MF_BYPOSITION | MF_CHECKED);  或者GetMenu()-&gt;GetSubMenu(0)-&gt;CheckMenuItem(ID_FILE_NEW, MF_BYCOMMAND | MF_CHECKED);<br>
　　Build并运行，可发现新建左边已添加一个复选标记。</p>
<h3 id="默认菜单项">默认菜单项</h3>
<p>在刚才的代码下，添加	GetMenu()-&gt;GetSubMenu(0)-&gt;SetDefaultItem(1, TRUE); 或者GetMenu()-&gt;GetSubMenu(0)-&gt;SetDefaultItem(ID_FILE_OPEN,  FALSE);  编译运行，会发现“打开”变成了粗体。</p>
<p><strong>注意：“打印”的索引是5，不是4。计算菜单项索引时，一定要把分割栏菜单项计算在内。并且，一个子菜单只能有一个默认菜单项。</strong></p>
<h3 id="图形标记菜单">图形标记菜单</h3>
<p>Insert-Resource-Bitmap，创建一个位图资源。如图。
<img src="http://img.blog.csdn.net/20170420225150945?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　为CMainFrame类添加一个CBitmap类型的成员变量：m_bitmap。</p>
<p>接着添加代码：
	CString str;
	str.Format(&quot;x=%d&quot;,y=%d&quot;, GetSystemMetrics(SM_CXMENUCHECK),GetSystemMetrics(SM_CYMENUCHECK));
	MessageBox(str);
	m_bitmap.LoadBitmap(IDB_BITMAP1);
	GetMenu()-&gt;GetSubMenu(0)-&gt;SetMenuItemBitmaps(0, MF_BYPOSITION, &amp;m_bitmap, &amp;m_bitmap);</p>
<h3 id="禁用菜单项">禁用菜单项</h3>
<p>通常把MF_GRAYED和MF_DISABLED这两个标志放在一起使用。不过这么做并不是必需的。
　　删除之前的代码，写入	GetMenu()-&gt;GetSubMenu(0)-&gt;EnableMenuItem(1, MF_BYPOSITION | MF_DISABLED | MF_GRAYED);
　　打开“文件”子菜单，发现“打开”菜单栏变灰，点击不起作用。</p>
<h3 id="移除和装载菜单">移除和装载菜单</h3>
<p>再添加一行代码：	SetMenu(NULL);  此时菜单栏被移除了。
　　再添加几行代码：    	
CMenu menu;
	menu.LoadMenu(IDR_MAINFRAME);
	SetMenu(&amp;menu);
	menu.Detach();
　　此时菜单栏又装载了。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">CMenu menu;</div><div class="line">menu.CreateMenu();</div><div class="line">GetMenu()-&gt;AppendMenu(MF_POPUP, (UINT)menu.m_hMenu, <span class="string">"Test1"</span>);</div><div class="line">menu.AppendMenu(MF_STRING, <span class="number">111</span>, <span class="string">"Hello"</span>);</div><div class="line">menu.AppendMenu(MF_STRING, <span class="number">112</span>, <span class="string">"Bye"</span>);</div><div class="line">menu.AppendMenu(MF_STRING, <span class="number">113</span>, <span class="string">"Mybole"</span>);</div><div class="line"></div><div class="line"></div><div class="line">menu.Detach();</div><div class="line"></div><div class="line">CMenu menu1;</div><div class="line">menu1.CreateMenu();</div><div class="line">GetMenu()-&gt;InsertMenu(<span class="number">2</span>, MF_POPUP | MF_BYPOSITION, (UINT)menu1. m_hMenu,<span class="string">"Test"</span>);</div><div class="line"></div><div class="line"></div><div class="line">menu1.Detach();</div><div class="line"></div><div class="line">GetMenu()-&gt;GetSubMenu(<span class="number">2</span>)-&gt;AppendMenu(MF_STRING, <span class="number">118</span>, <span class="string">"Welcome"</span>);</div><div class="line">GetMenu()-&gt;GetSubMenu(<span class="number">0</span>)-&gt;AppendMenu(MF_STRING, <span class="number">114</span>, <span class="string">"Welcome"</span>);</div><div class="line">GetMenu()-&gt;GetSubMenu(<span class="number">0</span>)-&gt;InsertMenu(ID_FILE_OPEN, MF_BYCOMMAND | MF_STRING, <span class="number">115</span>, <span class="string">"VC编程"</span>);</div></pre></td></tr></table></figure></p>
<h3 id="mfc菜单命令更新机制">MFC菜单命令更新机制</h3>
<p><img src="http://img.blog.csdn.net/20170420225218087?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>MFC命令更新机制：当要显示菜单时，操作系统发出WM_INITMENUPOPOP消息，然后由程序窗口的基类如CFrameWnd接管，它会创建一个CCmdUI对象，并与程序的第一个菜单项相关联，调用该对象的一个成员函数DoUpdate()。这个函数发出CN_UPDATE_COMMAND_UI消息，这条消息带有一个指向CCmdUI对象的指针。这时，系统会判断是否存在一个ON_UPDATE_COMMAND_UI宏去捕获这个菜单项消息。如果找到这样一个宏，就调用相应的消息响应函数进行处理，在这个函数中，可以利用传递过来的CCmdUI对象去调用相应的函数，使该菜单项可以使用，或禁用该菜单项。当更新完第一个菜单项后，同一个CCmdUI对象就设置为与第二个菜单项相关联，依此顺序进行，直到完成所有菜单项的处理。</p>
<p>添加代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMainFrame::OnUpdateEditCut(CCmdUI* pCmdUI) </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your command update UI handler code here</span></div><div class="line">	pCmdUI-&gt;Enable();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>编辑-剪切 可用了。
　　如果要把工具栏上的一个工具按钮与菜单栏中的某个菜单项相关联，只要将它们的ID设置为同一个标识就可以了。</p>
<p>如果希望禁用文件-新建，为ID_FILE_NEW添加UPDATE_COMMAND_UI消息响应函数。
　　代码如下：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">void</span> CMainFrame::OnUpdateFileNew(CCmdUI* pCmdUI) </div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add your command update UI handler code here</span></div><div class="line">	pCmdUI-&gt;Enable(FALSE);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>或者
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMainFrame::OnUpdateFileNew(CCmdUI* pCmdUI) </div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="number">2</span> == pCmdUI-&gt;m_nIndex)</div><div class="line">	pCmdUI-&gt;Enable();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="快捷菜单">快捷菜单</h3>
<p>1. 新增一个新的菜单资源。点开，顶级菜单设置任意的文本，如abc。添加两个菜单项：
　　显示 IDM_SHOW
　　退出 IDM_EXIT
　　2. 给CMenuView类添加WM_RBUTTONDOWN消息响应函数。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMenu2View::OnRButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CMenu menu;</div><div class="line">	menu.LoadMenu(IDR_MENU1);</div><div class="line">	CMenu* pPopup = menu.GetSubMenu(<span class="number">0</span>);</div><div class="line">	ClientToScreen(&amp;point);</div><div class="line">	pPopup-&gt;TrackPopupMenu(TPM_LEFTALIGN | TPM_RIGHTBUTTON, point.x, point.y, <span class="keyword">this</span>);</div><div class="line"></div><div class="line">	CView::OnRButtonDown(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果：
　　
<img src="http://img.blog.csdn.net/20170420225352728?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<p>3.对“显示”右键ClassWizard，可以取消创建新类的询问。分别为CMainFrame类和CMenuView类添加一个响应。
　　代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMenu2View::OnShow() </div><div class="line">&#123;</div><div class="line">	MessageBox(<span class="string">"View show"</span>);	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMainFrame::OnShow() </div><div class="line">&#123;</div><div class="line">	MessageBox(<span class="string">"Main show"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>结果是显示“View show”。说明只有视类才能对快捷菜单项命令做出响应。若想让CMainView类对此快捷菜单项进行响应的话，修改代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMenu2View::OnRButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CMenu menu;</div><div class="line">	menu.LoadMenu(IDR_MENU1);</div><div class="line">	CMenu* pPopup = menu.GetSubMenu(<span class="number">0</span>);</div><div class="line">	ClientToScreen(&amp;point);</div><div class="line">	<span class="comment">//pPopup-&gt;TrackPopupMenu(TPM_LEFTALIGN | TPM_RIGHTBUTTON, point.x, point.y, this);</span></div><div class="line">	pPopup-&gt;TrackPopupMenu(TPM_LEFTALIGN | TPM_RIGHTBUTTON, point.x, point.y, GetParent());</div><div class="line"></div><div class="line">	CView::OnRButtonDown(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同时删去视类的显示。</p>
<h2 id="动态菜单操作">动态菜单操作</h2>
<h3 id="添加菜单项目">添加菜单项目</h3>
<p>在CMainFrame类的OnCreate函数中添加代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">CMenu menu;</div><div class="line">menu.CreateMenu();</div><div class="line">GetMenu()-&gt;AppendMenu(MF_POPUP, (UINT)menu.m_hMenu, <span class="string">"Test"</span>);</div><div class="line">menu.Detach();</div></pre></td></tr></table></figure></p>
<h3 id="插入菜单项目">插入菜单项目</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CMenu menu;</div><div class="line">menu.CreateMenu();</div><div class="line"><span class="comment">/*GetMenu()-&gt;AppendMenu(MF_POPUP, (UINT)menu.m_hMenu, "Test");</span></div><div class="line">menu.Detach();*/</div><div class="line">GetMenu()-&gt;InsertMenu(<span class="number">2</span>, MF_POPUP | MF_BYPOSITION, (UINT)menu. m_hMenu,<span class="string">"Test"</span>);</div><div class="line">menu.Detach();</div></pre></td></tr></table></figure></p>
<p>如果要在新插入的子菜单中添加菜单项的话，同样可以使用AppendMenu函数来实现。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">CMenu menu;</div><div class="line">	menu.CreateMenu();</div><div class="line">	<span class="comment">/*GetMenu()-&gt;AppendMenu(MF_POPUP, (UINT)menu.m_hMenu, "Test");</span></div><div class="line">	menu.Detach();*/</div><div class="line">	GetMenu()-&gt;InsertMenu(<span class="number">2</span>, MF_POPUP | MF_BYPOSITION, (UINT)menu. m_hMenu,<span class="string">"Test"</span>);</div><div class="line"></div><div class="line">	menu.AppendMenu(MF_STRING, <span class="number">111</span>, <span class="string">"Hello"</span>);</div><div class="line">	menu.AppendMenu(MF_STRING, <span class="number">112</span>, <span class="string">"Bye"</span>);</div><div class="line">	menu.AppendMenu(MF_STRING, <span class="number">113</span>, <span class="string">"Mybole"</span>);</div><div class="line">	menu.Detach();</div></pre></td></tr></table></figure></p>
<p>111、112、113是随便赋予的ID号。
　　
<img src="http://img.blog.csdn.net/20170420230125731?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>若要在“文件”子菜单下添加一个菜单项Welcome，再添加一行代码：	GetMenu()-&gt;GetSubMenu(0)-&gt;AppendMenu(MF_STRING, 114, &quot;Welcome&quot;);
　　若要在“文件”中的“新建”和“打开”插入一个菜单项VC编程，再添加一行代码：
	GetMenu()-&gt;GetSubMenu(0)-&gt;InsertMenu(ID_FILE_OPEN, MF_BYCOMMAND | MF_STRING, 115， &quot;VC编程&quot;);</p>
<h3 id="删除菜单">删除菜单</h3>
<p>删除“编辑”：在CMainFrame类的OnCreate函数最后（return之前）添加：
　　GetMenu()-&gt;DeleteMenu(1, MF_BYPOSITION);
　　删除“文件”下的“打开”：
　　GetMenu()-&gt;GetSubMenu(0)-&gt;DeleteMenu(2, MF_BYPOSITION);</p>
<h3 id="动态添加的菜单项的命令响应">动态添加的菜单项的命令响应</h3>
<p>Resource.h中添加新ID
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> IDM_HELLO	111</span></div><div class="line">将menu.AppendMenu(MF_STRING, <span class="number">111</span>, “Hello”); 改为 menu.AppendMenu(MF_STRING, IDM_HELLO, “Hello”);</div><div class="line"></div><div class="line">　　三部曲：</div><div class="line">　　<span class="number">1.</span>	点开MainFrm.h，增加为</div><div class="line">```C++</div><div class="line"><span class="comment">//&#123;&#123;AFX_MSG(CMainFrame)</span></div><div class="line">	<span class="function">afx_msg <span class="keyword">int</span> <span class="title">OnCreate</span><span class="params">(LPCREATESTRUCT lpCreateStruct)</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnShow</span><span class="params">()</span></span>;</div><div class="line">	<span class="comment">//&#125;&#125;AFX_MSG</span></div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnHello</span><span class="params">()</span></span>;</div><div class="line">	DECLARE_MESSAGE_MAP()</div></pre></td></tr></table></figure></p>
<p>2. 点开MainFrm.cpp，增加为
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">BEGIN_MESSAGE_MAP(CMainFrame, CFrameWnd)</div><div class="line">	<span class="comment">//&#123;&#123;AFX_MSG_MAP(CMainFrame)</span></div><div class="line">	ON_WM_CREATE()</div><div class="line">	ON_COMMAND(IDM_SHOW, OnShow)</div><div class="line">	ON_COMMAND(IDM_HELLO, OnHello)</div><div class="line">	<span class="comment">//&#125;&#125;AFX_MSG_MAP</span></div><div class="line">END_MESSAGE_MAP()</div></pre></td></tr></table></figure></p>
<p>3. CMainFrame类中添加
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMainFrame::OnHello()</div><div class="line">&#123;</div><div class="line">	MessageBox(<span class="string">"Hello"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="电话本示例程序">电话本示例程序</h2>
<p>删除之前写入CMainFrame类的OnCreate函数，留下原始函数。</p>
<h3 id="动态添加子菜单的实现">动态添加子菜单的实现</h3>
<p>利用ClassWizard添加WM_CHAR消息。在Menu2View.h中添加：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">int</span> m_nIndex;</div><div class="line">	CMenu m_menu;</div></pre></td></tr></table></figure></p>
<p>在Menu2View.cpp里，添加：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CMenu2View::CMenu2View()</div><div class="line">&#123;</div><div class="line">	<span class="comment">// <span class="doctag">TODO:</span> add construction code here</span></div><div class="line">	m_nIndex = <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="显示输入的字符">显示输入的字符</h3>
<h3 id="添加菜单项及其命令响应函数">添加菜单项及其命令响应函数</h3>
<p>在资源编辑器中打开程序的菜单，在“帮助”后添加一个新菜单abc，添加4个菜单项。名称为1，ID为IDM_PHONE1，以此类推。用ClassWizard为CMenu2View类分别加上这四个菜单项的命令响应函数。
　　修改CMenu2View类的头文件，如下：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">protected</span>:</div><div class="line">	<span class="comment">//&#123;&#123;AFX_MSG(CMenu2View)</span></div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnRButtonDown</span><span class="params">(UINT nFlags, CPoint point)</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnChar</span><span class="params">(UINT nChar, UINT nRepCnt, UINT nFlags)</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnPhone1</span><span class="params">()</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnPhone2</span><span class="params">()</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnPhone3</span><span class="params">()</span></span>;</div><div class="line">	<span class="function">afx_msg <span class="keyword">void</span> <span class="title">OnPhone4</span><span class="params">()</span></span>;</div><div class="line">	<span class="comment">//&#125;&#125;AFX_MSG</span></div><div class="line">	DECLARE_MESSAGE_MAP()</div></pre></td></tr></table></figure></p>
<p>CMenu2View.cpp中，
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">	<span class="comment">//&#123;&#123;AFX_MSG_MAP(CMenu2View)</span></div><div class="line">	ON_WM_CHAR()</div><div class="line">	<span class="comment">//&#125;&#125;AFX_MSG_MAP</span></div><div class="line">	ON_COMMAND(IDM_PHONE1, OnPhone1)</div><div class="line">	ON_COMMAND(IDM_PHONE2, OnPhone2)</div><div class="line">	ON_COMMAND(IDM_PHONE3, OnPhone3)</div><div class="line">	ON_COMMAND(IDM_PHONE4, OnPhone4)</div><div class="line">	<span class="comment">// Standard printing commands</span></div><div class="line">	ON_COMMAND(ID_FILE_PRINT, CView::OnFilePrint)</div><div class="line">	ON_COMMAND(ID_FILE_PRINT_DIRECT, CView::OnFilePrint)</div><div class="line">	ON_COMMAND(ID_FILE_PRINT_PREVIEW, CView::OnFilePrintPreview)</div><div class="line">END_MESSAGE_MAP()</div></pre></td></tr></table></figure></p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CMenu2View::OnPhone1() </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, m_strArray.GetAt(<span class="number">0</span>));</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CMenu2View::OnPhone2() </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, m_strArray.GetAt(<span class="number">1</span>));</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CMenu2View::OnPhone3() </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, m_strArray.GetAt(<span class="number">2</span>));</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CMenu2View::OnPhone4() </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, m_strArray.GetAt(<span class="number">3</span>));</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="框架类窗口截获菜单命令消息">框架类窗口截获菜单命令消息</h3>
<p>右键单击CMainFrame，选择Add Virtual Functions-OnCommand，单击Add Handler，再点击Edit Existing。
<img src="http://img.blog.csdn.net/20170420230209594?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">BOOL CMainFrame::OnCommand(WPARAM wParam, LPARAM lParam) </div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> MenuCmdID = LOWORD(wParam);</div><div class="line">	CMenu2View *pView = (CMenu2View *)GetActiveView();</div><div class="line">	<span class="keyword">if</span> (MenuCmdID &gt;= IDM_PHONE1 &amp;&amp; MenuCmdID &lt; IDM_PHONE1 + pView-&gt;m_strArray.GetSize())</div><div class="line">	&#123;</div><div class="line">	<span class="comment">//MessageBox("Test");</span></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(pView)</span></span>;</div><div class="line">	dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, pView-&gt;m_strArray.GetAt(MenuCmdID - IDM_PHONE1));</div><div class="line">	<span class="keyword">return</span> TRUE;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> CFrameWnd::OnCommand(wParam, lParam);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>将MainFrm.cpp里添加#include “Menu2View.h” 。
　　将Menu2View.cpp中的#include “Menu2Doc.h”剪切到Menu2View.h文件的前部（#endif // _MSC_VER &gt; 1000下面）。</p>
<p>最终代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">void</span> CMenu2View::OnChar(UINT nChar, UINT nRepCnt, UINT nFlags) </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="keyword">if</span> (<span class="number">0x0d</span> == nChar)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="number">0</span> == ++m_nIndex)</div><div class="line">		&#123;</div><div class="line">			m_menu.CreatePopupMenu();</div><div class="line">			GetParent()-&gt;GetMenu()-&gt;AppendMenu(MF_POPUP, (UINT)m_menu.m_hMenu, <span class="string">"PhoneBook"</span>);</div><div class="line">			GetParent()-&gt;DrawMenuBar();</div><div class="line">		&#125;</div><div class="line">		m_menu.AppendMenu(MF_STRING, IDM_PHONE1 + m_nIndex, m_strLine.Left(m_strLine.Find(<span class="string">' '</span>)));</div><div class="line">		m_strArray.Add(m_strLine);</div><div class="line">		m_strLine.Empty();</div><div class="line">		Invalidate();</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		m_strLine += nChar;</div><div class="line">		dc.TextOut(<span class="number">0</span>, <span class="number">0</span>, m_strLine);</div><div class="line">	&#125;</div><div class="line">	CView::OnChar(nChar, nRepCnt, nFlags);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果：
<img src="http://img.blog.csdn.net/20170420230235013?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h1 id="简单绘图">简单绘图</h1>
<h2 id="mfc消息映射机制">MFC消息映射机制</h2>
<p>与消息有关的三处信息：1.头文件XXXX.h中 2.源文件XXXX.cpp中 3.源文件XXXX.cpp的响应函数中</p>
<h2 id="绘制线条">绘制线条</h2>
<p>对CDrawView右键点击Add Member Variable，变量名称：m_ptOrigin，类型：CPoint，访问权限设置：Private。
　　代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	m_ptOrigin = point;</div><div class="line">	CView::OnLButtonDown(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="comment">//首先获得窗口的设备描述表</span></div><div class="line">	HDC hdc;</div><div class="line">	hdc = ::GetDC(m_hWnd);</div><div class="line">	<span class="comment">//移动到线条的起点</span></div><div class="line">	MoveToEx(hdc, m_ptOrigin.x, m_ptOrigin.y, <span class="literal">NULL</span>);</div><div class="line">	<span class="comment">//画线</span></div><div class="line">	LineTo(hdc, point.x, point.y);</div><div class="line">	<span class="comment">//释放设备描述表</span></div><div class="line">	::ReleaseDC(m_hWnd, hdc);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230302938?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="利用mfc的cdc类实现画线功能">利用MFC的CDC类实现画线功能</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="comment">/*//首先获得窗口的设备描述表</span></div><div class="line">	HDC hdc;</div><div class="line">	hdc = ::GetDC(m_hWnd);</div><div class="line">	//移动到线条的起点</div><div class="line">	MoveToEx(hdc, m_ptOrigin.x, m_ptOrigin.y, NULL);</div><div class="line">	//画线</div><div class="line">	LineTo(hdc, point.x, point.y);</div><div class="line">	//释放设备描述表</div><div class="line">	::ReleaseDC(m_hWnd, hdc);*/</div><div class="line"></div><div class="line">	CDC* pDC = GetDC();</div><div class="line">	pDC-&gt;MoveTo(m_ptOrigin);</div><div class="line">	pDC-&gt;LineTo(point);</div><div class="line">	ReleaseDC(pDC);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="利用mfc的cwindowdc类实现画线功能">利用MFC的CWindowDC类实现画线功能</h3>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CWindowDC dc(GetParent());</div><div class="line">	dc.MoveTo(m_ptOrigin);</div><div class="line">	dc.LineTo(point);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230346873?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="在桌面窗口中画线">在桌面窗口中画线</h3>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CWindowDC dc(GetDesktopWindow());</div><div class="line">	dc.MoveTo(m_ptOrigin);</div><div class="line">	dc.LineTo(point);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230404138?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><strong>注意</strong>：在桌面上画图需要权限（一般写代码时需要避免软件以外的操作）。</p>
<h3 id="绘制彩色线条">绘制彩色线条</h3>
<p>在程序中，当构造一个GDI对象后，该对象并不会立即生效，必须选入设备描述表，它才会在以后的绘制操作中生效。
一般情况下，在完成绘图操作之后，都要利用SelectObject函数把之前的GDI对象选入设备描述表，以便使其恢复到先前的状态。
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CPen pen(PS_SOLID, 1, RGB(255, 0, 0));</div><div class="line">	CClientDC dc(this);</div><div class="line">	CPen* pOldPen = dc.SelectObject(&amp;pen);</div><div class="line">	dc.MoveTo(m_ptOrigin);</div><div class="line">	dc.LineTo(point);</div><div class="line">	dc.SelectObject(pOldPen);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行的效果是红色线条。</p>
<p>改为	CPen pen(PS_DASH, 1, RGB(255, 0, 0));  是虚线。（其中第二个参数需小于等于10）
	CPen pen(PS_DOT, 1, RGB(255, 0, 0)); 是点线。</p>
<h2 id="使用画刷绘图">使用画刷绘图</h2>
<h3 id="简单画刷">简单画刷</h3>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	//创建一个红色画刷</div><div class="line">	CBrush brush(RGB(255, 0, 0));</div><div class="line">	//创建并获得设备描述表</div><div class="line">	CClientDC dc(this);</div><div class="line">	//利用红色画刷填充鼠标拖拽过程中形成的矩形区域</div><div class="line">	dc.FillRect(CRect(m_ptOrigin, point),&amp;brush);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230440190?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="位图画刷">位图画刷</h3>
<p>Insert-Resource-Bitmap-New，在这里发挥灵魂画手的天赋吧！
　　代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="comment">//创建位图对象</span></div><div class="line">	CBitmap bitmap;</div><div class="line">	<span class="comment">//加载位图资源</span></div><div class="line">	bitmap.LoadBitmap(IDB_BITMAP1);</div><div class="line">	<span class="comment">//创建位图画刷</span></div><div class="line">	<span class="function">CBrush <span class="title">brush</span><span class="params">(&amp;bitmap)</span></span>;</div><div class="line">	<span class="comment">//创建并获得设备描述表</span></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="comment">//利用位图画刷填充鼠标拖拽过程中形成的矩形区域</span></div><div class="line">	dc.FillRect(CRect(m_ptOrigin, point),&amp;brush);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230503092?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　我画的是不是很滑稽（手动滑稽）</p>
<h3 id="透明画刷">透明画刷</h3>
<p>先进行一种尝试：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="comment">//创建并获得设备描述表</span></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="comment">//绘制一个矩形</span></div><div class="line">	dc.Rectangle(CRect(m_ptOrigin,point));</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230521295?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
　　如果希望矩形内部是透明的，能够看到被遮挡的图形，就要创建一个透明画刷。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="comment">//创建并获得设备描述表</span></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="comment">//创建一个空画刷</span></div><div class="line">	CBrush *pBrush = CBrush::FromHandle((HBRUSH)GetStockObject(NULL_BRUSH));</div><div class="line">	<span class="comment">//将空画刷选入设备描述表</span></div><div class="line">	CBrush *pOldBrush = dc.SelectObject(pBrush);</div><div class="line">	<span class="comment">//绘制一个矩形</span></div><div class="line">	dc.Rectangle(CRect(m_ptOrigin, point));</div><div class="line">	<span class="comment">//恢复先前的画刷</span></div><div class="line">	dc.SelectObject(pOldBrush);</div><div class="line"></div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230550253?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="绘制连续线条">绘制连续线条</h2>
<p>首先为视类增加鼠标移动消息（WM_MOUSEMOVE）的响应函数（默认OnMouseMove），并为视类添加一个BOOL型的私有成员变量m_bDraw。
在视类头文件定义：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　Private:</div><div class="line">　BOOL m_bDraw;</div></pre></td></tr></table></figure></p>
<p>在视类的构造函数中：	
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">m_bDraw = FALSE;</div></pre></td></tr></table></figure></p>
<p>在OnLButtonDown中：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">m_bDraw = TRUE;</div></pre></td></tr></table></figure></p>
<p>在OnLButtonUp中：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">m_bDraw = FALSE;</div></pre></td></tr></table></figure></p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CDrawView::OnMouseMove(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="keyword">if</span>(m_bDraw == TRUE)</div><div class="line">	&#123;</div><div class="line">		dc.MoveTo(m_ptOrigin);</div><div class="line">		dc.LineTo(point);</div><div class="line">		<span class="comment">//修改线段的起点</span></div><div class="line">		m_ptOrigin = point;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	CView::OnMouseMove(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230616957?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>给线条换色：
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnMouseMove(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CClientDC dc(this);</div><div class="line">		//创建一个红色的、宽度为1的实线画笔</div><div class="line">		CPen pen(PS_SOLID, 1, RGB(255, 0, 0));</div><div class="line">		//把创建的画笔选入设备描述表</div><div class="line">		CPen *pOldPen = dc.SelectObject(&amp;pen);</div><div class="line">		if (m_bDraw == TRUE)</div><div class="line">		&#123;</div><div class="line">		dc.MoveTo(m_ptOrigin);</div><div class="line">		dc.LineTo(point);</div><div class="line">		//修改线段的起点</div><div class="line">		m_ptOrigin = point;</div><div class="line">	&#125;</div><div class="line">	//恢复设备描述表</div><div class="line">		dc.SelectObject(pOldPen);</div><div class="line"></div><div class="line">	CView::OnMouseMove(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="绘制扇形效果的线条">绘制扇形效果的线条</h2>
<p>去掉上述代码中的 	m_ptOrigin = point;</p>
<p>效果：
　　<img src="http://img.blog.csdn.net/20170420230636254?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>绘制一个带边线的扇形：
　　为CDrawView类增加一个CPoint类型的私有成员变量m_ptOld，用来保存鼠标上一个移动点。</p>
<p>在OnLButton中：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">m_ptOld = point;</div></pre></td></tr></table></figure></p>
<p>在OnMouseMove中：
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">void CDrawView::OnMouseMove(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CClientDC dc(this);</div><div class="line">		//创建一个红色的、宽度为1的实线画笔</div><div class="line">		CPen pen(PS_SOLID, 1, RGB(255, 0, 0));</div><div class="line">		//把创建的画笔选入设备描述表</div><div class="line">		CPen *pOldPen = dc.SelectObject(&amp;pen);</div><div class="line">		if (m_bDraw == TRUE)</div><div class="line">		&#123;</div><div class="line">		dc.MoveTo(m_ptOrigin);</div><div class="line">		dc.LineTo(point);</div><div class="line">		dc.LineTo(m_ptOld);</div><div class="line">		//修改线段的起点</div><div class="line">		//m_ptOrigin = point;</div><div class="line">		m_ptOld = point;</div><div class="line">	&#125;</div><div class="line">	//恢复设备描述表</div><div class="line">		dc.SelectObject(pOldPen);</div><div class="line"></div><div class="line">	CView::OnMouseMove(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>最好将OnLButtonUp里原来写的代码删除或注释之。
　　效果：
<img src="http://img.blog.csdn.net/20170420230656311?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>MFC提供一个设置绘图模式的函数SetROP2，带有一个参数R2_BLACK、R2_WHITE、R2_MERGENOTPEN等。
　　例如，在CClientDC dc(this); 下方添加代码： 	dc.SetROP2(R2_MERGENOTPEN);  编译运行后看不到绘制的线条，这就是设置了R2_MERGENOTPEN这种绘图模式。
使用R2_BLACK，将会发现绘制的线条颜色始终都是黑色的。</p>
<h1 id="文本编程">文本编程</h1>
<h2 id="插入符">插入符</h2>
<h3 id="创建文本插入符">创建文本插入符</h3>
<p>创建一个单文档类型的MFC AppWizard(exe)工程，取名为Text。
为CTextView类添加WM_CREATE消息的响应函数OnCreate，在此函数中创建一个宽度为20、高度为100的插入符。代码如下。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> CTextView::OnCreate(LPCREATESTRUCT lpCreateStruct) </div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (CView::OnCreate(lpCreateStruct) == <span class="number">-1</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	</div><div class="line">	CreateSolidCaret(<span class="number">20</span>,<span class="number">100</span>);</div><div class="line">	ShowCaret();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230721832?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>让插入符适应于当前字体的大小：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> CTextView::OnCreate(LPCREATESTRUCT lpCreateStruct) </div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (CView::OnCreate(lpCreateStruct) == <span class="number">-1</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	</div><div class="line">	<span class="comment">//创建设备描述表</span></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	<span class="comment">//定义文本信息结构体变量</span></div><div class="line">	TEXTMETRIC tm;</div><div class="line">	<span class="comment">//获得设备描述表中的文本信息</span></div><div class="line">	dc.GetTextMetrics(&amp;tm);</div><div class="line">	<span class="comment">//根据字体大小，创建何时的插入符（除以8是经验值）</span></div><div class="line">	CreateSolidCaret(tm.tmAveCharWidth/<span class="number">8</span>, tm.tmHeight);</div><div class="line">	<span class="comment">//显示插入符</span></div><div class="line">	ShowCaret();</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行结果就比较符合常规了。</p>
<h3 id="创建图形插入符">创建图形插入符</h3>
<p>新建一个位图资源，画一个图形。
在TextView.h中添加
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span>:</div><div class="line">		CBitmap bitmap;</div></pre></td></tr></table></figure></p>
<p>代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> CTextView::OnCreate(LPCREATESTRUCT lpCreateStruct) </div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (CView::OnCreate(lpCreateStruct) == <span class="number">-1</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	</div><div class="line"></div><div class="line">	bitmap.LoadBitmap(IDB_BITMAP1);</div><div class="line">	CreateCaret(&amp;bitmap);</div><div class="line">	ShowCaret();</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230741630?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="窗口重绘">窗口重绘</h2>
<h3 id="ondraw函数">OnDraw函数</h3>
<p>实现在程序窗口中输出一串文字的功能。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnDraw(CDC* pDC)</div><div class="line">&#123;</div><div class="line">	CTextDoc* pDoc = GetDocument();</div><div class="line">	ASSERT_VALID(pDoc);</div><div class="line"></div><div class="line">	<span class="function">CString <span class="title">str</span><span class="params">(<span class="string">"VC++ 深入编程"</span>)</span></span>;</div><div class="line">	pDC-&gt;TextOut(<span class="number">50</span>, <span class="number">50</span>, str);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230758895?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="添加字符串资源">添加字符串资源</h3>
<p>点击Resource View-String Table选项，在此字符串表最底部的空行上双击，即可弹出添加新字符串资源的对话框。ID：IDS_STRINGVC，Caption：“VC++编程 文本编程”。代码如下。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnDraw(CDC* pDC)</div><div class="line">&#123;</div><div class="line">	CTextDoc* pDoc = GetDocument();</div><div class="line">	ASSERT_VALID(pDoc);</div><div class="line"></div><div class="line">	<span class="comment">//CString str("VC++ 深入编程");</span></div><div class="line">	CString str;</div><div class="line">	str = <span class="string">"VC++ 深入编程"</span>;</div><div class="line">	pDC-&gt;TextOut(<span class="number">50</span>, <span class="number">50</span>, str);</div><div class="line"></div><div class="line">	str.LoadString(IDS_STRINGVC);</div><div class="line">	pDC-&gt;TextOut(<span class="number">0</span>, <span class="number">200</span>, str);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230814077?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="路径">路径</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">void</span> CTextView::OnDraw(CDC* pDC)</div><div class="line">&#123;</div><div class="line">	CTextDoc* pDoc = GetDocument();</div><div class="line">	ASSERT_VALID(pDoc);</div><div class="line"></div><div class="line">	<span class="comment">//CString str("VC++ 深入编程");</span></div><div class="line">	CString str;</div><div class="line">	str = <span class="string">"VC++ 深入编程"</span>;</div><div class="line">	pDC-&gt;TextOut(<span class="number">50</span>, <span class="number">50</span>, str);</div><div class="line"></div><div class="line">	CSize sz = pDC-&gt;GetTextExtent(str);</div><div class="line"></div><div class="line">	str.LoadString(IDS_STRINGVC);</div><div class="line">	pDC-&gt;TextOut(<span class="number">0</span>, <span class="number">200</span>, str);</div><div class="line"></div><div class="line">	pDC-&gt;BeginPath();</div><div class="line">	pDC-&gt;Rectangle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>+sz.cx, <span class="number">50</span>+sz.cy);</div><div class="line">	pDC-&gt;EndPath();</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">300</span>; i+=<span class="number">10</span>)</div><div class="line">	&#123;</div><div class="line">		pDC-&gt;MoveTo(<span class="number">0</span>, i);</div><div class="line">		pDC-&gt;LineTo(<span class="number">300</span>, i);</div><div class="line">		pDC-&gt;MoveTo(i,<span class="number">0</span>);</div><div class="line">		pDC-&gt;LineTo(i,<span class="number">300</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"> ![这里写图片描述](http:<span class="comment">//img.blog.csdn.net/20170420230830380?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</span></div><div class="line"></div><div class="line">```C++</div><div class="line"><span class="keyword">void</span> CTextView::OnDraw(CDC* pDC)</div><div class="line">&#123;</div><div class="line">	CTextDoc* pDoc = GetDocument();</div><div class="line">	ASSERT_VALID(pDoc);</div><div class="line"></div><div class="line">	<span class="comment">//CString str("VC++ 深入编程");</span></div><div class="line">	CString str;</div><div class="line">	str = <span class="string">"VC++ 深入编程"</span>;</div><div class="line">	pDC-&gt;TextOut(<span class="number">50</span>, <span class="number">50</span>, str);</div><div class="line"></div><div class="line">	CSize sz = pDC-&gt;GetTextExtent(str);</div><div class="line"></div><div class="line">	str.LoadString(IDS_STRINGVC);</div><div class="line">	pDC-&gt;TextOut(<span class="number">0</span>, <span class="number">200</span>, str);</div><div class="line"></div><div class="line">	pDC-&gt;BeginPath();</div><div class="line">	pDC-&gt;Rectangle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>+sz.cx, <span class="number">50</span>+sz.cy);</div><div class="line">	pDC-&gt;EndPath();</div><div class="line">	pDC-&gt;SelectClipPath(RGN_DIFF);</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">300</span>; i+=<span class="number">10</span>)</div><div class="line">	&#123;</div><div class="line">		pDC-&gt;MoveTo(<span class="number">0</span>, i);</div><div class="line">		pDC-&gt;LineTo(<span class="number">300</span>, i);</div><div class="line">		pDC-&gt;MoveTo(i,<span class="number">0</span>);</div><div class="line">		pDC-&gt;LineTo(i,<span class="number">300</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230849318?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
这正是RGN_DIFF模式的效果。
如果是RGN_AND，效果是新的裁剪区域是当前裁剪区域和当前路径层的交集。</p>
<p>路径层的作用：实现特殊效果。如，希望整幅图形中某一部分与其他部分有所区别，就可以把这部分的图形设置到一个路径层中，然后利用SelectClipPath函数设置一种模式，让路径层和裁剪区域进行互操作以达到一种特殊效果。</p>
<h2 id="字符输入">字符输入</h2>
<p>当用户在键盘上按下某个字符按键后，要把该字符输出到程序窗口上。
首先让CTextView捕获WM_CHAR消息，接着为该类定义一个CString类型的成员变量：m_strLine，并在CTextView类的构造函数中将这个变量初始化：m_strLine = “”;
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnLButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	SetCaretPos(point);</div><div class="line"></div><div class="line">	CView::OnLButtonDown(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230906115?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
为CTextView类再增加一个CPoint类型的成员变量，取名m_ptOrigin，权限为私有。在CTextView类的构造函数中设置其初值为0。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnLButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	SetCaretPos(point);</div><div class="line">	m_strLine.Empty();</div><div class="line">	m_ptOrigin = point;</div><div class="line"></div><div class="line">	CView::OnLButtonDown(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>注意：回车字符的ASCII码十六进制是0x0d，退格键的ASCII码十六进制值是0x08。</strong></p>
<p>最终代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnChar(UINT nChar, UINT nRepCnt, UINT nFlags) </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	TEXTMETRIC tm;</div><div class="line">	dc.GetTextMetrics(&amp;tm);</div><div class="line">	<span class="keyword">if</span> (<span class="number">0x0d</span> == nChar)</div><div class="line">	&#123;</div><div class="line">	m_strLine.Empty();</div><div class="line">	m_ptOrigin.y += tm.tmHeight;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">0x08</span> == nChar)</div><div class="line">	&#123;</div><div class="line">		COLORREF clr = dc.SetTextColor(dc.GetBkColor());</div><div class="line">		dc.TextOut(m_ptOrigin.x, m_ptOrigin.y, m_strLine);</div><div class="line">		m_strLine = m_strLine.Left(m_strLine.GetLength() - <span class="number">1</span>);</div><div class="line">		dc.SetTextColor(clr);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		m_strLine += nChar; </div><div class="line">	&#125;</div><div class="line">	CSize sz = dc.GetTextExtent(m_strLine);</div><div class="line">	CPoint pt;</div><div class="line">	pt.x = m_ptOrigin.x + sz.cx;</div><div class="line">	pt.y = m_ptOrigin.y;</div><div class="line">	SetCaretPos(pt);</div><div class="line"></div><div class="line">	dc.TextOut(m_ptOrigin.x, m_ptOrigin.y, m_strLine);</div><div class="line"></div><div class="line">	</div><div class="line">	CView::OnChar(nChar, nRepCnt, nFlags);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230925890?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="设置字体">设置字体</h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnChar(UINT nChar, UINT nRepCnt, UINT nFlags) </div><div class="line">&#123;</div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	CFont font;</div><div class="line">	font.CreatePointFont(<span class="number">300</span>, <span class="string">"华文行楷"</span>, <span class="literal">NULL</span>);</div><div class="line">	CFont *pOldFont = dc.SelectObject(&amp;font);</div><div class="line">……</div><div class="line">	dc.SelectObject(pOldFont);</div><div class="line">	</div><div class="line">	CView::OnChar(nChar, nRepCnt, nFlags);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420230949366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="字幕变色功能的实现">字幕变色功能的实现</h3>
<p>在这个Text例子中，我们在视类的OnCreate 函数中设置定时器，设置一个时间间隔为100ms，标识为1的定时器。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> CTextView::OnCreate(LPCREATESTRUCT lpCreateStruct) </div><div class="line">&#123;</div><div class="line">	……</div><div class="line"></div><div class="line">	SetTimer(<span class="number">1</span>, <span class="number">100</span>, <span class="literal">NULL</span>);</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>给CTextView类添加WM_TIMER消息的响应函数。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CTextView::OnTimer(UINT nIDEvent) </div><div class="line">&#123;</div><div class="line">	m_nWidth += <span class="number">5</span>;</div><div class="line"></div><div class="line">	<span class="function">CClientDC <span class="title">dc</span><span class="params">(<span class="keyword">this</span>)</span></span>;</div><div class="line">	TEXTMETRIC tm;</div><div class="line">	dc.GetTextMetrics(&amp;tm);</div><div class="line">	CRect rect;</div><div class="line">	rect.left =<span class="number">0</span>;</div><div class="line">	rect.top = <span class="number">200</span>;</div><div class="line">	rect.right = m_nWidth;</div><div class="line">	rect.bottom = rect.top + tm.tmHeight;</div><div class="line"></div><div class="line">	dc.SetTextColor(RGB(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>));</div><div class="line">	CString str;</div><div class="line">	str.LoadString(IDS_STRINGVC);</div><div class="line">	dc.DrawText(str, rect, DT_LEFT);</div><div class="line">	</div><div class="line">	rect.top = <span class="number">150</span>;</div><div class="line">	rect.bottom = rect.top + tm.tmHeight;</div><div class="line">	dc.DrawText(str, rect, DT_RIGHT);</div><div class="line">	</div><div class="line">	CSize sz = dc.GetTextExtent(str);</div><div class="line">	<span class="keyword">if</span> (m_nWidth &gt; sz.cx)</div><div class="line">	&#123;</div><div class="line">		m_nWidth = <span class="number">0</span>;</div><div class="line">		dc.SetTextColor(RGB(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>));</div><div class="line">		dc.TextOut(<span class="number">0</span>, <span class="number">200</span>, str);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	CView::OnTimer(nIDEvent);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>红色渐变效果可看到。
<img src="http://img.blog.csdn.net/20170420231009906?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h1 id="绘图控制">绘图控制</h1>
<h2 id="简单绘图">简单绘图</h2>
<p>新建一个单文档类型的MFC AppWizard(exe)工程，取名：Graphic。
添加的菜单项：
<img src="http://img.blog.csdn.net/20170420231023694?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述">
给CGraphicView类中添加一个私有变量：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UINT m_nDrawType;</div></pre></td></tr></table></figure></p>
<p>在视类构造函数中将此变量初始化为0。</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CGraphicView::OnDot() </div><div class="line">&#123;</div><div class="line">	m_nDrawType = <span class="number">1</span>;</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CGraphicView::OnLine() </div><div class="line">&#123;</div><div class="line">	m_nDrawType = <span class="number">2</span>;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CGraphicView::OnRectangle() </div><div class="line">&#123;</div><div class="line">	m_nDrawType = <span class="number">3</span>;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> CGraphicView::OnEllipse() </div><div class="line">&#123;</div><div class="line">	m_nDrawType = <span class="number">4</span>;	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>CGraphicView类再增加一个CPoint类型的私有成员变量：m_ptOrigin。在CGraphicView类构造函数中，将该变量的值设置为0。
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">void CGraphicView::OnLButtonDown(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	m_ptOrigin = point;</div><div class="line">	</div><div class="line">	CView::OnLButtonDown(nFlags, point);</div><div class="line">&#125;</div><div class="line"></div><div class="line">void CGraphicView::OnLButtonUp(UINT nFlags, CPoint point) </div><div class="line">&#123;</div><div class="line">	CClientDC dc(this);</div><div class="line">	//为边框设定颜色</div><div class="line">	CPen pen(PS_SOLID, 1, RGB(255, 0, 0));</div><div class="line">	dc.SelectObject(&amp;pen);</div><div class="line">	//能看到图形内部内容(透明)</div><div class="line">	CBrush *pBrush = CBrush::FromHandle((HBRUSH)GetStockObject(NULL_BRUSH));</div><div class="line">	dc.SelectObject(pBrush);</div><div class="line"></div><div class="line">	switch(m_nDrawType)</div><div class="line">	&#123;</div><div class="line">	case 1:</div><div class="line">		dc.SetPixel(point,RGB(255, 0, 0));</div><div class="line">		break;</div><div class="line">	case 2:</div><div class="line">		dc.MoveTo(m_ptOrigin);</div><div class="line">		dc.LineTo(point);</div><div class="line">		break;</div><div class="line">	case 3:</div><div class="line">		dc.Rectangle(CRect(m_ptOrigin,point));</div><div class="line">		break;</div><div class="line">	case 4:</div><div class="line">		dc.Ellipse(CRect(m_ptOrigin, point));</div><div class="line">		break;</div><div class="line">	&#125;</div><div class="line">	CView::OnLButtonUp(nFlags, point);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170420231045554?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="设置对话框">设置对话框</h2>
<p>再增加一个对话框资源，ID为IDD_DLG_SETTING，Caption为Setting，Font为宋体。</p>
<h3 id="设置线宽">设置线宽</h3>
<p>添加一个静态文本框，并将Caption设为“线宽”。再添加一个编辑框，ID：IDC_LINE_WIDTH。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> CGraphicView::OnSetting() </div><div class="line">&#123;</div><div class="line">	CSettingDlg dlg;</div><div class="line">	dlg.DoModal();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在源文件前部添加：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Include “SettingDlg.h”</div></pre></td></tr></table></figure></p>
<p>&lt;span id=&quot;busuanzi_container_page_pv&quot;&gt;
本文已被阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt; 次。感谢您的点击！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MFC/">MFC</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-多说关闭引发的麻烦" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/04/05/多说关闭引发的麻烦/" class="article-date">
      <time datetime="2017-04-05T08:44:21.000Z" itemprop="datePublished">2017-04-05</time>
</a>

 
    <a href="/2017/04/05/多说关闭引发的麻烦/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/04/05/多说关闭引发的麻烦/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/05/多说关闭引发的麻烦/">多说关闭引发的麻烦</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1491392241106&amp;di=d26487a68371b445aa7b604ab2883ce1&amp;imgtype=0&amp;src=http%3A%2F%2Fimage103.360doc.com%2FDownloadImg%2F2017%2F02%2F1715%2F91672979_2.png&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>多说八百年不发邮件通知我有评论，在我换为网易云跟帖后，竟然邮件通知我有评论了！</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
多说关闭带来的评论区何去何从让我颇为困扰。
现在能用的大概只有这些：畅言（需备案）、网易云跟帖（github.io不支持）、友言（也有倒闭趋势）、来必力（韩国）。</p>
<p>没有一个像多说这样好用的！</p>
<p>虽然多说也有很多问题，但它至少解决了核心问题：
1.评论显示正确的网友名称。
来看看我换上网易云跟帖后的效果：
<img src="http://img.blog.csdn.net/20170405161942419?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="网易云跟帖"></p>
<p>都是有态度网友…… 我压根分不清谁是谁！</p>
<p>2.点击头像可以回访人家的独立博客。
这一点真的很重要，这往往是我们小众的独立博客人交朋友的主要途径啊！</p>
<p>3.可以自定义。
头像旋转、评论框自定义，真的可以很好看。这些跟帖做不到。</p>
<p>4.盖楼模式多样。
而跟帖只能一种，我不太喜欢，重复率太高，我还是喜欢多说的嵌套。</p>
<p>多说名字没起好啊！多说无益必自毙→_→
先换回多说吧，再等一个月看看。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/杂谈/">杂谈</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/多说/">多说</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-DigitalOcean购买服务器教程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/28/DigitalOcean购买服务器教程/" class="article-date">
      <time datetime="2017-03-28T13:50:20.000Z" itemprop="datePublished">2017-03-28</time>
</a>

 
    <a href="/2017/03/28/DigitalOcean购买服务器教程/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/28/DigitalOcean购买服务器教程/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/28/DigitalOcean购买服务器教程/">DigitalOcean购买服务器教程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170326174446026?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>GitHub教育礼包有50美金优惠券，加上朋友的链接送的10美金，自己充值的5美金，正好可以买一个服务器用一年了。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1 id="步骤">步骤</h1>
<h2 id="注册-优惠码">注册、优惠码</h2>
<p>1.点击https://m.do.co/c/9d7b9b7b94ba/ 进入DigitalOcean注册。
（通过以上链接，你可以多获得10美金！同时，我也将得到10美金。）</p>
<p>注册时，需要支付5美金完成支付，最好用paypal支付（可以去注册一个账号），最好不要用信用卡（土豪可以用……）。</p>
<p>2.点击头像下的Setting，再点击右侧的Billing
<img src="http://img.blog.csdn.net/20170326174446026?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Billing"></p>
<p>3.输入教育礼包优惠码
<img src="http://img.blog.csdn.net/20170326174542642?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Promo code"></p>
<p><strong>注意</strong>：很有可能显示“ Account not eligible to use this promo code.”可能滥用优惠码却不是学生的人太多，DO加强了监管，审查比较严格。反正我的是没有通过。
于是，需要向客服反映情况。
点击Support，
<img src="http://img.blog.csdn.net/20170326174844940?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Support">
点击Create ticket，把你的情况写清楚，最好说明你是学生，并附带你的优惠码。之后官方会帮你搞定。（在三小时后就处理好了我的）</p>
<h2 id="购买服务器">购买服务器</h2>
<p>点击创建Droplet，</p>
<p><img src="http://img.blog.csdn.net/20170326175306708?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Create Droplet"></p>
<p><img src="http://img.blog.csdn.net/20170326180620758?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="服务器价格"></p>
<p>学生……穷啊……只能买最便宜的……这样刚好可以用一年。</p>
<p><img src="http://img.blog.csdn.net/20170326175420319?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="选择服务器系统"></p>
<p>选择centos6.8x64</p>
<p><img src="http://img.blog.csdn.net/20170326175528071?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="选择地址"></p>
<p>旧金山比较快。</p>
<p><img src="http://img.blog.csdn.net/20170326175607599?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="可选项"></p>
<p>这个的第一个和第三个可以选，最好不选第三个。</p>
<p>改名</p>
<p><img src="http://img.blog.csdn.net/20170326175720964?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="改名"></p>
<p>点击create，服务器购买成功。
DO会给你发送一封带有初始密码的邮件。</p>
<h2 id="使用">使用</h2>
<p>下载puTTY或xshell。
puTTY
<img src="http://img.blog.csdn.net/20170326180124352?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="puTTY"></p>
<p>我以shell为例，
<img src="http://img.blog.csdn.net/20170326180208206?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="初始页"></p>
<p>新建会话。
<img src="http://img.blog.csdn.net/20170326180245618?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="属性"></p>
<p>IP地址填你的服务器IP，接受并保存你的主机密钥。
输入用户名。
输入初始密码。
再修改密码。（密码最好复杂一点）</p>
<p>完成。
可以愉快地使用你的服务器啦！</p>
<h1 id="致谢">致谢</h1>
<p>感谢<a href="https://www.domeyi.com/" target="_blank" rel="external">小忆</a>的耐心指导和大力帮助！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DigitalOcean/">DigitalOcean</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服务器/">服务器</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-更换为.me域名教程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/26/更换为.me域名教程/" class="article-date">
      <time datetime="2017-03-26T13:01:21.000Z" itemprop="datePublished">2017-03-26</time>
</a>

 
    <a href="/2017/03/26/更换为.me域名教程/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/26/更换为.me域名教程/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/26/更换为.me域名教程/">更换为.me域名教程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170326164253754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>既然申请得到Github教育礼包，就应开始使用。
我的博客是基于Hexo搭建于Github的博客，原域名：http://hubojing.github.io/ ，现在的新域名是 http://www.hubojing.me/ 。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1 id="注册me域名">注册.me域名</h1>
<p>1.打开教育礼包中的namecheap优惠页面https://nc.me/，使用你的github账号登录。
<img src="http://img.blog.csdn.net/20170326164253754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="登录"></p>
<p>登陆后，显示已成功。</p>
<p><img src="http://img.blog.csdn.net/20170326164344646?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="成功"></p>
<p>搜索你想要的域名。</p>
<p><img src="http://img.blog.csdn.net/20170326164007734?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="查询页面"></p>
<p>2.如果该域名未被注册，那么你可以注册该域名。
<img src="http://img.blog.csdn.net/20170326164441564?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="注册页面"></p>
<p>点击ADD。</p>
<p><img src="http://img.blog.csdn.net/20170326164524022?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="付款"></p>
<p>点击Complete Order。</p>
<p><img src="http://img.blog.csdn.net/20170326164625924?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="详情"></p>
<p>点击下方的Finish Up完成注册，这样该域名就属于你了。</p>
<p>紧接着，会要求你登录你的namecheap账号，如果之前没有用过该网站，就点register注册一个账号。</p>
<p><img src="http://img.blog.csdn.net/20170326164750097?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="注册"></p>
<p>注册完成后，是以下的页面显示。</p>
<p><img src="http://img.blog.csdn.net/20170326164921653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="注册完成"></p>
<p>在和你的Github账户绑定在一起：
<img src="http://img.blog.csdn.net/20170326165006630?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="绑定成功"></p>
<p>这样.me域名注册就算是全部完成了。</p>
<h1 id="域名管理">域名管理</h1>
<p>打开网址http://www.namecheap.com/，登录自己的账户。
点击Domain List，
<img src="http://img.blog.csdn.net/20170326165302596?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="点击"></p>
<p>你将看到域名列表。</p>
<p><img src="http://img.blog.csdn.net/20170326165359413?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="域名列表"></p>
<p>由于国外的DNS可能很慢，于是最好托管到国内的服务商来。我选择的是腾讯云。</p>
<h1 id="转移到腾讯云">转移到腾讯云</h1>
<p>进入https://www.dnspod.cn/，注册新账号（可以用QQ、微信等直接登录免注册）。</p>
<p>点击添加域名，将刚才的.me域名输入。保存。
<img src="http://img.blog.csdn.net/20170326165806508?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="添加域名"></p>
<p>控制台全局外观：
<img src="http://img.blog.csdn.net/20170326170148387?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="控制台"></p>
<p>再回到namecheap控制台，修改NAMESERVERS，选择Custom DNS，如图。
<img src="http://img.blog.csdn.net/20170326170503918?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="修改DNS"></p>
<p>需要等待一会儿才能成功。（最晚48h，我就等了几分钟就好了。）</p>
<p><img src="http://img.blog.csdn.net/20170326170702856?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="成功提示"></p>
<p>回到腾讯云，域名是红的。
<img src="http://img.blog.csdn.net/20170326170821412?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="红色"></p>
<p>点击进去看看，再返回，等待一下，再刷新。
变成蓝色，说明已经更新成功了。</p>
<p>点击进入，点击添加记录，</p>
<p><img src="http://img.blog.csdn.net/20170326171042541?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="添加记录"></p>
<p>保存。</p>
<h1 id="github博客项目设置">GitHub博客项目设置</h1>
<p>进入项目页（是博客项目页，非个人资料页），点击Setting，
<img src="http://img.blog.csdn.net/20170326171232078?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="GitHub Pages"></p>
<p>将Custom domain改为你刚才解析的域名，比如我的 www.hubojing.me ，点击Save保存。</p>
<p><img src="http://img.blog.csdn.net/20170326171403280?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="保存成功"></p>
<p>大功告成！你的新域名已能正常使用，并且也能通过旧域名自动跳转到新域名！（记得重启浏览器，或者使用IE或Edge浏览器打开查看效果！）
<img src="http://img.blog.csdn.net/20170326171616595?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="大功告成"></p>
<h1 id="致谢">致谢</h1>
<p>感谢 <a href="https://www.domeyi.com/" target="_blank" rel="external">小忆</a> 在我更换域名时提供的大力帮助！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/域名/">域名</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/教程/">教程</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Github教育礼包" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/25/Github教育礼包/" class="article-date">
      <time datetime="2017-03-25T03:21:23.000Z" itemprop="datePublished">2017-03-25</time>
</a>

 
    <a href="/2017/03/25/Github教育礼包/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/25/Github教育礼包/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/25/Github教育礼包/">Github教育礼包</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170325152139513?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot;  style=&quot;float:right;&quot;/&gt;</p>
<p>感谢小伙伴让我知道github教育礼包，并教我怎么申请：</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<ol>
<li>到教育优惠页面申请：https://education.github.com/</li>
<li>填写学校信息及申请理由，如果有edu邮箱一般很快就通过了；如果没有，需要提供证件来证明。</li>
<li>一般来说一小时到几天就申请成功了。（我当天晚上收到了邮件）
有用的主要三个东西：</li>
<li>me域名免费一年</li>
<li>DO的免费VPS代金券50美金（有效期1年），可以使用最低配置11个月</li>
<li>免费SSL证书</li>
</ol>
<p>收到的邮件（截取片段）：
If you need help getting started with Git and GitHub, check out:</p>
<p>https://help.github.com/articles/good-resources-for-learning-git-and-github</p>
<p>We've also given you access to the Student Developer Pack, available at:</p>
<p>https://education.github.com/pack</p>
<p>If you have any questions, contact us:</p>
<p>https://education.github.com/contact</p>
<p>Spread the word: we love giving educational discounts to students, teachers, administrators, and researchers! Please send them to:</p>
<p>https://education.github.com</p>
<p>Have an Octotastic day!（这个 Octotastic 我不造是什么意思……词典也没这个词 望大神解答）</p>
<p>My Pack:
<img src="http://img.blog.csdn.net/20170325152139513?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="ATOM">
A hackable text editor for the 21st Century
来自21世纪的可定制文本编辑器
免费使用</p>
<p><img src="http://img.blog.csdn.net/20170325152259545?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="aws educate">
Access to the AWS cloud, free training, and collaboration resources
AWS云，免费教程和资源。</p>
<p><img src="http://img.blog.csdn.net/20170325152452545?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="bitnami">
Install cloud applications in a single click
轻松安装云应用</p>
<p><img src="http://img.blog.csdn.net/20170325152601503?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="CARTO">
An open and powerful platform for spatial data analysis, visualization, and application creation.
一个开放有力的空间、视觉、应用创建数据分析平台。</p>
<p><img src="http://img.blog.csdn.net/20170325152759640?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="CrowdFlower">
Crowdsourcing and data enrichment platform
众包与数据富集平台</p>
<p><img src="http://img.blog.csdn.net/20170325152955501?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="DATADOG">
Cloud-based infrastructure monitoring
云基础设施监控</p>
<p><img src="http://img.blog.csdn.net/20170325153132065?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="DigitalOcean">
Simple cloud hosting, built for developers
简单云托管，为开发者而生</p>
<p><img src="http://img.blog.csdn.net/20170325153307467?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="dnsimple">
Simple DNS management with one-click services and a robust API
简单的DNS管理，包括一键服务和强大的API</p>
<p><img src="http://img.blog.csdn.net/20170325153539661?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="FLATIRON SCHOOL">
Learn Web Development from the premier coding bootcamp for launching developers.
从最开始的代码集训营开始学习Web开发成为开发者。</p>
<p><img src="http://img.blog.csdn.net/20170325153827865?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Github">
Powerful collaboration, code review, and code management
强大的协作、代码审查和代码管理</p>
<p><img src="http://img.blog.csdn.net/20170325153937663?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="GitKraken">
The downright luxurious Git client for Windows, Mac and Linux
Windows，Mac和Linux上的超级豪华Git客户端</p>
<p><img src="http://img.blog.csdn.net/20170325154114898?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="HACKHANDS">
Live programming help available 24/7
编程帮助</p>
<p><img src="http://img.blog.csdn.net/20170325154256511?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Microsoft Imagine">
A suite of Microsoft Azure cloud services and developer tools, including the Visual Studio IDE
一套微软Azure的云服务和开发工具，包括Visual Studio IDE</p>
<p><img src="http://img.blog.csdn.net/20170325154446405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="namecheap">
Affordable registration, hosting, and domain management
便宜的注册，托管和域管理</p>
<p><img src="http://img.blog.csdn.net/20170325154612806?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="SendGrid">
Email infrastructure as a service
电子邮件基础设施服务</p>
<p><img src="http://img.blog.csdn.net/20170325154722190?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="stripe">
Web and mobile payments, built for developers
网络和移动支付，为开发者而生</p>
<p><img src="http://img.blog.csdn.net/20170325154820863?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="TAPLYTICS">
Dynamic A/B testing, smart push notifications and custom analytics for native mobile apps
动态A / B测试，智能推送通知和自定义分析本地移动应用程序</p>
<p><img src="http://img.blog.csdn.net/20170325155641561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="transifex">
Localization platform that easily integrates with your code base
易于与代码库集成的本地化平台</p>
<p><img src="http://img.blog.csdn.net/20170325155750954?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Travis CI">
Continuous integration platform for open source and private projects
开源和私有项目的连续集成平台</p>
<p><img src="http://img.blog.csdn.net/20170325155909190?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="UDACITY">
Enroll in a Nanodegree program, and launch your career in Web and Mobile Development, Machine Learning, Data Science, and more.</p>
<p>Enroll in a Nanodegree program, and launch your career in Web and Mobile Development, Machine Learning, Data Science, and more.
报名参加一个nanodegree项目，在Web、移动开发、机器学习、数据科学以及等多方面，开启你的职业生涯。</p>
<p><img src="http://img.blog.csdn.net/20170325162245096?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="UNREAL">
A complete suite of game development tools for PC, console, mobile, web and VR
一套完整的游戏开发工具，用于PC，控制台，移动，网络和虚拟现实</p>
<p>正在学习其中一些工具的使用中……未完待续。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/杂谈/">杂谈</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Github/">Github</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-制作简易计算器APP（线性结构）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/22/制作简易计算器APP（线性结构）/" class="article-date">
      <time datetime="2017-03-21T16:19:25.000Z" itemprop="datePublished">2017-03-22</time>
</a>

 
    <a href="/2017/03/22/制作简易计算器APP（线性结构）/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/22/制作简易计算器APP（线性结构）/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/22/制作简易计算器APP（线性结构）/">简易计算器（Android）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170321231830210?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot;  style=&quot;float:right;&quot;/&gt;</p>
<p>安卓端简易计算器APP实现。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1 id="目标">目标</h1>
<p>制作简易计算器（Android）。</p>
<h1 id="思路">思路</h1>
<p>第一步：页面布局
第二步：事件监听以及实现运算</p>
<h1 id="成品">成品</h1>
<p><img src="http://img.blog.csdn.net/20170321231830210?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="简易计算器"></p>
<h1 id="代码">代码</h1>
<h2 id="mainactivityjava">MainActivity.java</h2>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div></pre></td><td class="code"><pre><div class="line">package com.example.calculator;</div><div class="line"></div><div class="line">import android.app.Activity;</div><div class="line">import android.os.Bundle;</div><div class="line">import android.view.View;</div><div class="line">import android.view.View.OnClickListener;</div><div class="line">import android.widget.Button;</div><div class="line">import android.widget.EditText;</div><div class="line"></div><div class="line">public class MainActivity extends Activity implements OnClickListener&#123;</div><div class="line">	Button btn_0;//0按钮</div><div class="line">	Button btn_1;//1按钮</div><div class="line">	Button btn_2;//2按钮</div><div class="line">	Button btn_3;//3按钮</div><div class="line">	Button btn_4;//4按钮</div><div class="line">	Button btn_5;//5按钮</div><div class="line">	Button btn_6;//6按钮</div><div class="line">	Button btn_7;//7按钮</div><div class="line">	Button btn_8;//8按钮</div><div class="line">	Button btn_9;//9按钮</div><div class="line">	Button btn_point;//小数点按钮</div><div class="line">	Button btn_clear;//清除按钮</div><div class="line">	Button btn_del;//删除按钮</div><div class="line">	Button btn_plus;//加按钮</div><div class="line">	Button btn_minus;//减按钮</div><div class="line">	Button btn_multiply;//乘按钮</div><div class="line">	Button btn_divide;//除按钮</div><div class="line">	Button btn_equal;//等号按钮</div><div class="line">	EditText et_input;//显示输入内容的显示屏</div><div class="line">	boolean clear_flag;//清空标识</div><div class="line">	</div><div class="line">	@Override</div><div class="line">	protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">		super.onCreate(savedInstanceState);</div><div class="line">		setContentView(R.layout.activity_main);</div><div class="line">		btn_0 = (Button) findViewById(R.id.btn_0);</div><div class="line">		btn_1 = (Button) findViewById(R.id.btn_1);</div><div class="line">		btn_2 = (Button) findViewById(R.id.btn_2);</div><div class="line">		btn_3 = (Button) findViewById(R.id.btn_3);</div><div class="line">		btn_4 = (Button) findViewById(R.id.btn_4);</div><div class="line">		btn_5 = (Button) findViewById(R.id.btn_5);</div><div class="line">		btn_6 = (Button) findViewById(R.id.btn_6);</div><div class="line">		btn_7 = (Button) findViewById(R.id.btn_7);</div><div class="line">		btn_8 = (Button) findViewById(R.id.btn_8);</div><div class="line">		btn_9 = (Button) findViewById(R.id.btn_9);</div><div class="line">		btn_point = (Button) findViewById(R.id.btn_point);</div><div class="line">		btn_clear = (Button) findViewById(R.id.btn_clear);</div><div class="line">		btn_del = (Button) findViewById(R.id.btn_del);</div><div class="line">		btn_plus = (Button) findViewById(R.id.btn_plus);</div><div class="line">		btn_minus = (Button) findViewById(R.id.btn_minus);</div><div class="line">		btn_multiply = (Button) findViewById(R.id.btn_multiply);</div><div class="line">		btn_divide = (Button) findViewById(R.id.btn_divide);</div><div class="line">		btn_equal = (Button) findViewById(R.id.btn_equal);</div><div class="line">		//以上是实例化按钮</div><div class="line">		et_input=(EditText)findViewById(R.id.et_input);//实例化显示屏</div><div class="line">		</div><div class="line">		btn_0.setOnClickListener(this);</div><div class="line">		btn_1.setOnClickListener(this);</div><div class="line">		btn_2.setOnClickListener(this);</div><div class="line">		btn_3.setOnClickListener(this);</div><div class="line">		btn_4.setOnClickListener(this);</div><div class="line">		btn_5.setOnClickListener(this);</div><div class="line">		btn_6.setOnClickListener(this);</div><div class="line">		btn_7.setOnClickListener(this);</div><div class="line">		btn_8.setOnClickListener(this);</div><div class="line">		btn_9.setOnClickListener(this);</div><div class="line">		btn_point.setOnClickListener(this);</div><div class="line">		btn_clear.setOnClickListener(this);</div><div class="line">		btn_del.setOnClickListener(this);</div><div class="line">		btn_plus.setOnClickListener(this);</div><div class="line">		btn_minus.setOnClickListener(this);</div><div class="line">		btn_multiply.setOnClickListener(this);	</div><div class="line">		btn_divide.setOnClickListener(this);</div><div class="line">		btn_equal.setOnClickListener(this);</div><div class="line">		//以上设置按钮的点击事件</div><div class="line">		</div><div class="line">		</div><div class="line">		</div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void onClick(View v) &#123;</div><div class="line">		// TODO Auto-generated method stub</div><div class="line">		String str =et_input.getText().toString();</div><div class="line">		switch (v.getId()) &#123;</div><div class="line">		case R.id.btn_0:</div><div class="line">		case R.id.btn_1:</div><div class="line">		case R.id.btn_2:</div><div class="line">		case R.id.btn_3:</div><div class="line">		case R.id.btn_4:</div><div class="line">		case R.id.btn_5:</div><div class="line">		case R.id.btn_6:</div><div class="line">		case R.id.btn_7:</div><div class="line">		case R.id.btn_8:</div><div class="line">		case R.id.btn_9:</div><div class="line">		case R.id.btn_point:</div><div class="line">			if(clear_flag)&#123;</div><div class="line">				clear_flag=false;</div><div class="line">				str=&quot;&quot;;</div><div class="line">				et_input.setText(&quot;&quot;);</div><div class="line">			&#125;</div><div class="line">		et_input.setText(str+((Button)v).getText());</div><div class="line">			break;</div><div class="line">			</div><div class="line">		</div><div class="line">		case R.id.btn_plus:</div><div class="line">		case R.id.btn_minus:</div><div class="line">		case R.id.btn_multiply:</div><div class="line">		case R.id.btn_divide:</div><div class="line">			if(clear_flag)&#123;</div><div class="line">				clear_flag=false;</div><div class="line">				str=&quot;&quot;;</div><div class="line">				et_input.setText(&quot;&quot;);</div><div class="line">			&#125;</div><div class="line">		et_input.setText(str+&quot; &quot;+((Button)v).getText()+&quot; &quot;);</div><div class="line">			break;</div><div class="line">		case R.id.btn_clear:</div><div class="line">			clear_flag=false;</div><div class="line">			str=&quot;&quot;;</div><div class="line">			et_input.setText(&quot;&quot;);</div><div class="line">			break;</div><div class="line">		case R.id.btn_del:</div><div class="line">			if(clear_flag)&#123;</div><div class="line">				clear_flag=false;</div><div class="line">				str=&quot;&quot;;</div><div class="line">				et_input.setText(&quot;&quot;);</div><div class="line">			&#125;else if(str!=null&amp;&amp;!str.equals(&quot;&quot;))&#123;</div><div class="line">				et_input.setText(str.substring(0, str.length()-1));</div><div class="line">			&#125;</div><div class="line">			break;</div><div class="line">		case R.id.btn_equal:</div><div class="line">			getResult();</div><div class="line">			break;</div><div class="line">	</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	/**</div><div class="line">	 * 运算结果</div><div class="line">	 */</div><div class="line">	private void getResult()&#123;</div><div class="line">		String exp=et_input.getText().toString();</div><div class="line">		if(exp==null||exp.equals(&quot;&quot;))&#123;</div><div class="line">			return;</div><div class="line">		&#125;</div><div class="line">		if(!exp.contains(&quot; &quot;))&#123;</div><div class="line">			return;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		if(clear_flag)&#123;</div><div class="line">			clear_flag=false;</div><div class="line">			return;</div><div class="line">		&#125;</div><div class="line">		clear_flag=true;</div><div class="line">		double result=0;</div><div class="line">		String s1=exp.substring(0, exp.indexOf(&quot; &quot;));//运算符前面的字符串</div><div class="line">		String op=exp.substring(exp.indexOf(&quot; &quot;)+1, exp.indexOf(&quot; &quot;)+2);//运算符</div><div class="line">		String s2=exp.substring(exp.indexOf(&quot; &quot;)+3);//运算符后面的字符串</div><div class="line">		</div><div class="line">		if(!s1.equals(&quot;&quot;)&amp;&amp;!s2.equals(&quot;&quot;))&#123;</div><div class="line">			double d1=Double.parseDouble(s1);</div><div class="line">			double d2=Double.parseDouble(s2);</div><div class="line">			if(op.equals(&quot;+&quot;))&#123;</div><div class="line">				result=d1+d2;</div><div class="line">			&#125;else if(op.equals(&quot;-&quot;))&#123;</div><div class="line">				result=d1-d2;</div><div class="line">			&#125;else if(op.equals(&quot;×&quot;))&#123;</div><div class="line">				result=d1*d2;</div><div class="line">			&#125;else if(op.equals(&quot;÷&quot;))&#123;</div><div class="line">				if(d2==0)&#123;</div><div class="line">					result=0;</div><div class="line">				&#125;else&#123;</div><div class="line">					result=d1/d2;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			if(!s1.contains(&quot;.&quot;)&amp;&amp;!s2.contains(&quot;.&quot;)&amp;&amp;!op.equals(&quot;÷&quot;))&#123;</div><div class="line">				int r=(int)result;</div><div class="line">				et_input.setText(r+&quot;&quot;);</div><div class="line">			&#125;else&#123;</div><div class="line">				et_input.setText(result+&quot;&quot;);</div><div class="line">			&#125;</div><div class="line">		&#125;else if(!s1.equals(&quot;&quot;)&amp;&amp;s2.equals(&quot;&quot;))&#123;</div><div class="line">			et_input.setText(exp);</div><div class="line">		&#125;else if(s1.equals(&quot;&quot;)&amp;&amp;!s2.equals(&quot;&quot;))&#123;</div><div class="line">			double d2=Double.parseDouble(s2);</div><div class="line">			if(op.equals(&quot;+&quot;))&#123;</div><div class="line">				result=0+d2;</div><div class="line">			&#125;else if(op.equals(&quot;-&quot;))&#123;</div><div class="line">				result=0-d2;</div><div class="line">			&#125;else if(op.equals(&quot;×&quot;))&#123;</div><div class="line">				result=0;</div><div class="line">			&#125;else if(op.equals(&quot;÷&quot;))&#123;</div><div class="line">					result=0;</div><div class="line">			&#125;</div><div class="line">			if(!s2.contains(&quot;.&quot;))&#123;</div><div class="line">				int r=(int)result;</div><div class="line">				et_input.setText(r+&quot;&quot;);</div><div class="line">			&#125;else&#123;</div><div class="line">				et_input.setText(result+&quot;&quot;);</div><div class="line">			&#125;</div><div class="line">		&#125;else&#123;</div><div class="line">			et_input.setText(&quot;&quot;);</div><div class="line">		&#125;</div><div class="line">				</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="activity_mainxml">activity_main.xml</h2>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div></pre></td><td class="code"><pre><div class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    android:orientation=&quot;vertical&quot;</div><div class="line">    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;</div><div class="line">    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;</div><div class="line">    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;</div><div class="line">    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;</div><div class="line">    tools:context=&quot;com.example.calculator.MainActivity&quot; &gt;</div><div class="line"></div><div class="line">   </div><div class="line">	&lt;EditText</div><div class="line">	    android:layout_width=&quot;fill_parent&quot;</div><div class="line">	    android:layout_height=&quot;60dip&quot;</div><div class="line">	    android:id=&quot;@+id/et_input&quot;</div><div class="line">	    android:editable=&quot;false&quot;</div><div class="line">	    android:gravity=&quot;right|bottom&quot;</div><div class="line">	    android:background=&quot;@drawable/white_bg&quot;</div><div class="line">	    /&gt;</div><div class="line">	&lt;LinearLayout</div><div class="line">	    android:layout_width=&quot;fill_parent&quot;</div><div class="line">	    android:layout_height=&quot;wrap_content&quot;</div><div class="line">	    android:layout_marginTop=&quot;20dp&quot;</div><div class="line">	    android:orientation=&quot;horizontal&quot;</div><div class="line">	    android:gravity=&quot;center_horizontal&quot;</div><div class="line">	    &gt;</div><div class="line">	    &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;C&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	        android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_clear&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;DEL&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_del&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;÷&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_divide&quot;</div><div class="line">	        /&gt;</div><div class="line">	       &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;×&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_multiply&quot;</div><div class="line">	        /&gt;</div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">	    </div><div class="line">	&lt;LinearLayout</div><div class="line">	    android:layout_width=&quot;fill_parent&quot;</div><div class="line">	    android:layout_height=&quot;wrap_content&quot;</div><div class="line">	    android:layout_marginTop=&quot;10dp&quot;</div><div class="line">	    android:orientation=&quot;horizontal&quot;</div><div class="line">	    android:gravity=&quot;center_horizontal&quot;</div><div class="line">	    &gt;</div><div class="line">	    &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;7&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_7&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;8&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_8&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;9&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_9&quot;</div><div class="line">	        /&gt;</div><div class="line">	       &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;-&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_minus&quot;</div><div class="line">	        /&gt;</div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">	    &lt;LinearLayout</div><div class="line">	    android:layout_width=&quot;fill_parent&quot;</div><div class="line">	    android:layout_height=&quot;wrap_content&quot;</div><div class="line">	    android:layout_marginTop=&quot;10dp&quot;</div><div class="line">	    android:orientation=&quot;horizontal&quot;</div><div class="line">	    android:gravity=&quot;center_horizontal&quot;</div><div class="line">	    &gt;</div><div class="line">	    &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;4&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_4&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;5&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_5&quot;</div><div class="line">	        /&gt;</div><div class="line">	     &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;6&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_6&quot;</div><div class="line">	        /&gt;</div><div class="line">	       &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;+&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_plus&quot;</div><div class="line">	        /&gt;</div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">	    &lt;LinearLayout </div><div class="line">	       android:layout_width=&quot;fill_parent&quot;</div><div class="line">	       android:layout_height=&quot;wrap_content&quot;</div><div class="line">	       android:orientation=&quot;horizontal&quot;</div><div class="line">	       android:layout_marginTop=&quot;10dp&quot;</div><div class="line">	       android:gravity=&quot;center_horizontal&quot;</div><div class="line">	      </div><div class="line">	        &gt;</div><div class="line">	    &lt;LinearLayout </div><div class="line">	       android:layout_width=&quot;wrap_content&quot; </div><div class="line">	       android:layout_height=&quot;wrap_content&quot;</div><div class="line">	       android:orientation=&quot;vertical&quot;</div><div class="line">	        &gt;    </div><div class="line">	    &lt;LinearLayout</div><div class="line">	        android:layout_width=&quot;wrap_content&quot;</div><div class="line">	        android:layout_height=&quot;wrap_content&quot;</div><div class="line">	        android:orientation=&quot;horizontal&quot;</div><div class="line">	        </div><div class="line">	        &gt;   </div><div class="line">	        &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;1&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_1&quot;</div><div class="line">	        /&gt; </div><div class="line">	        &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;2&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:id=&quot;@+id/btn_2&quot;</div><div class="line">	        /&gt; </div><div class="line">	        &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;3&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:id=&quot;@+id/btn_3&quot;</div><div class="line">	        /&gt; </div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">	     &lt;LinearLayout</div><div class="line">	        android:layout_width=&quot;wrap_content&quot;</div><div class="line">	        android:layout_height=&quot;wrap_content&quot;</div><div class="line">	        android:layout_marginTop=&quot;10dp&quot;</div><div class="line">	        android:orientation=&quot;horizontal&quot;</div><div class="line">	        &gt;   </div><div class="line">	         &lt;Button</div><div class="line">	        android:layout_width=&quot;130dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;0&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_0&quot;</div><div class="line">	        /&gt; </div><div class="line">	        &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;60dp&quot;</div><div class="line">	        android:text=&quot;.&quot;</div><div class="line">	         android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/white_selector&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:id=&quot;@+id/btn_point&quot;</div><div class="line">	        /&gt; </div><div class="line">	     &lt;/LinearLayout&gt;</div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">	    &lt;Button</div><div class="line">	        android:layout_width=&quot;60dp&quot;</div><div class="line">	        android:layout_height=&quot;130dp&quot;</div><div class="line">	        android:text=&quot;=&quot;</div><div class="line">	        android:paddingRight=&quot;10dp&quot;</div><div class="line">	        android:paddingBottom=&quot;10dp&quot;</div><div class="line">	         android:background=&quot;@drawable/orange_selector&quot;</div><div class="line">	        android:layout_marginLeft=&quot;10dp&quot;</div><div class="line">	        android:textSize=&quot;20sp&quot;</div><div class="line">	        android:gravity=&quot;right|bottom&quot;</div><div class="line">	        android:id=&quot;@+id/btn_equal&quot;</div><div class="line">	        /&gt; </div><div class="line">	    &lt;/LinearLayout&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<h2 id="colorxml">color.xml</h2>
<p>res/values下新建一个xml.
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;resources&gt;</div><div class="line">    &lt;color name=&quot;white&quot;&gt;#FFFFFF&lt;/color&gt;</div><div class="line">	&lt;color name=&quot;red&quot;&gt;#FF0000&lt;/color&gt;</div><div class="line">	&lt;color name=&quot;black&quot;&gt;#000000&lt;/color&gt;</div><div class="line">	&lt;color name=&quot;gray&quot;&gt;#808080&lt;/color&gt;</div><div class="line">	&lt;color name=&quot;orange&quot;&gt;#FFA500&lt;/color&gt;</div><div class="line">	&lt;color name=&quot;ashen&quot;&gt;#CD853F&lt;/color&gt;</div><div class="line">&lt;/resources&gt;</div></pre></td></tr></table></figure></p>
<h2 id="white_bgxml">white_bg.xml</h2>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;</div><div class="line">  &lt;corners android:radius=&quot;5dp&quot;/&gt;</div><div class="line">  &lt;solid</div><div class="line">      android:color=&quot;@color/white&quot;</div><div class="line">  /&gt;</div><div class="line">  &lt;!--  </div><div class="line">  &lt;gradient </div><div class="line">      android:startColor=&quot;@color/white&quot; </div><div class="line">	  android:endColor=&quot;@color/red&quot;</div><div class="line">	  </div><div class="line">	 </div><div class="line">	  /&gt;</div><div class="line">  &lt;stroke</div><div class="line">  android:width=&quot;1dp&quot;</div><div class="line">  android:color=&quot;@color/black&quot;</div><div class="line">  /&gt;	</div><div class="line">  --&gt;</div><div class="line">&lt;/shape&gt;</div></pre></td></tr></table></figure></p>
<h2 id="white_selectorxml">white_selector.xml</h2>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;</div><div class="line">    &lt;item android:drawable=&quot;@drawable/gray_bg&quot; android:state_pressed=&quot;true&quot;/&gt;</div><div class="line">	&lt;item android:drawable=&quot;@drawable/white_bg&quot;/&gt;</div><div class="line">&lt;/selector&gt;</div></pre></td></tr></table></figure></p>
<h1 id="出现的问题及解决方法">出现的问题及解决方法</h1>
<blockquote>
<p>1.新建工程时，出现报错：
\res\values\styles.xml:7: error: Error retrieving parent for item: No resource found that matches the given name 'Theme.AppCompat.Light'.
\res\values-v11\styles.xml:7: error: Error retrieving parent for item: No resource found that matches the given name 'Theme.AppCompat.Light'.
\res\values-v14\styles.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'Theme.AppCompat.Light.DarkActionBar'.</p>
</blockquote>
<p>解决方法：
顺着改为：
style name=&quot;AppBaseTheme&quot; parent=&quot;android:Theme.Light&quot;
style name=&quot;AppBaseTheme&quot; parent=&quot;android:Theme.Holo.Light&quot;
style name=&quot;AppBaseTheme&quot;parent=&quot;android:Theme.Holo.Light.DarkActionBar&quot;
然后menu会报错，改为：
android:showAsAction=&quot;never&quot;</p>
<blockquote>
<p>2.导入工程时报错The import android cannot be resolved</p>
</blockquote>
<p>解决：在新建Android项目的时候，eclipes新更新的ADT，在创建的Android版本最低版本低于4.0的时候，会新建一个v7的项目，把里面的包导入就可以。如果不想有警告的话，直接在创建项目的时候把最低版本设置为4.0以上就可以。并且不会出现第一个问题。</p>
<blockquote>
<p>3.定义按钮时错误提示：Button cannot be resolved to a type</p>
</blockquote>
<p>解决：没导包，快捷键ctrl+shift+o搞定。</p>
<h1 id="笔记">笔记</h1>
<h2 id="去掉标题栏">去掉标题栏</h2>
<p>在res/values/string.xml中和AndroidManifest.xml去掉相应代码即可。</p>
<h2 id="颜色需新建xml">颜色需新建xml</h2>
<p>存放在res/values/colors中，RGB颜色表示。</p>
<h2 id="drawble下文件结构">drawble下文件结构</h2>
<p><img src="http://img.blog.csdn.net/20170321233151779?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="颜色和选择器"></p>
<h2 id="注意">注意</h2>
<p>Main_Activity.java中，首先命名控件，给一个id，其次，按钮要设置点击事件，监听到该控件动作。
activity_main.xml中，线性结构可以嵌套使用。</p>
<p>思考：线性结构代码显臃肿，换成TableLayout也许更佳。并且计算器需要进一步优化，目前存在小的问题，例如，加减乘除符号可以在没有数字输入时顺序打印在屏幕上。总之，基本实现了计算器的功能。</p>
<h1 id="app下载">APP下载</h1>
<p>https://github.com/hubojing/Calculator</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-模拟借书系统（java异常机制实现）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/19/模拟借书系统（java异常机制实现）/" class="article-date">
      <time datetime="2017-03-19T09:09:12.000Z" itemprop="datePublished">2017-03-19</time>
</a>

 
    <a href="/2017/03/19/模拟借书系统（java异常机制实现）/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/19/模拟借书系统（java异常机制实现）/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/19/模拟借书系统（java异常机制实现）/">模拟借书系统（Java异常机制实现）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170319164926044?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot;  style=&quot;float:right;&quot;/&gt;</p>
<p>java语言实现一个控制台版的模拟借书系统。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1 id="目标">目标</h1>
<p>用java语言实现一个控制台版的模拟借书系统，旨在练习java异常机制。</p>
<h1 id="要求">要求</h1>
<p><img src="http://img.blog.csdn.net/20170319164837988?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="要求"></p>
<h1 id="成品">成品</h1>
<p><img src="http://img.blog.csdn.net/20170319164926044?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="最终效果"></p>
<h1 id="参考代码及注释">参考代码及注释</h1>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Scanner;<span class="comment">//导入Scanner包</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookManagerEasy</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Scanner console = <span class="keyword">new</span> Scanner(System.in);<span class="comment">//接收系统输入</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//定义”图书“数组</span></div><div class="line">		String[] books = &#123; <span class="string">"C语言"</span>, <span class="string">"数据结构"</span>, <span class="string">"汇编语言"</span>, <span class="string">"高数"</span>, <span class="string">"大学语文"</span>, <span class="string">"毛概"</span> &#125;;</div><div class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">			System.out.println(<span class="string">"输入命令：1-按照名称查找图书；2-按照序号查找图书"</span>);</div><div class="line">			String book;</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="comment">//取得整型命令</span></div><div class="line">				<span class="keyword">int</span> command = inputCommand();</div><div class="line">				<span class="comment">//根据不同命令值，进行不同操作</span></div><div class="line">				<span class="keyword">switch</span> (command) &#123;</div><div class="line">				<span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//按照图书名称选择图书</span></div><div class="line">					book = getBookByName(books);</div><div class="line">					System.out.println(<span class="string">"book:"</span> + book);</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//按照图书序号（数组下标）选择图书</span></div><div class="line">					book = getBookByNumber(books);</div><div class="line">					System.out.println(<span class="string">"book:"</span> + book);</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">1</span>:<span class="comment">//返回值为-1，说明输入有误</span></div><div class="line">					System.out.println(<span class="string">"命令输入错误！请根据提示输入数字命令！"</span>);</div><div class="line">					<span class="keyword">continue</span>;</div><div class="line">				<span class="keyword">default</span>:<span class="comment">//其他值的命令均认为是错误命令</span></div><div class="line">					System.out.println(<span class="string">"命令输入错误！"</span>);</div><div class="line">					<span class="keyword">continue</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">break</span>;<span class="comment">//退出程序</span></div><div class="line">			&#125; <span class="keyword">catch</span> (Exception bne) &#123;</div><div class="line">				<span class="comment">//捕获“图书不存在异常”时，要求重新输入命令</span></div><div class="line">				System.out.println(bne.getMessage());</div><div class="line">				<span class="keyword">continue</span>;</div><div class="line">			&#125; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//按照图书名称查询图书</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getBookByName</span><span class="params">(String[] books)</span></span></div><div class="line">			<span class="keyword">throws</span> Exception &#123;</div><div class="line">		System.out.println(<span class="string">"输入图书名称："</span>);</div><div class="line">		<span class="comment">//获取输入的图书名称</span></div><div class="line">		String name = console.next();</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; books.length; i++) &#123;</div><div class="line">			<span class="keyword">if</span> (name.equals(books[i]))</div><div class="line">				<span class="comment">//输入的名称与某一图书名称匹配，返回该图书</span></div><div class="line">				<span class="keyword">return</span> books[i];</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//若无匹配，抛出”图书不存在异常“</span></div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"图书不存在！"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//根据图书序号（数组下标）查询图书</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getBookByNumber</span><span class="params">(String[] books)</span></span></div><div class="line">			<span class="keyword">throws</span> Exception &#123;</div><div class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">			System.out.println(<span class="string">"输入图书序号："</span>);</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="comment">//获取输入的图书序号（数组下标）</span></div><div class="line">				<span class="keyword">int</span> index = inputCommand();</div><div class="line">				<span class="comment">//若返回值为-1</span></div><div class="line">				<span class="keyword">if</span>(index == -<span class="number">1</span>)&#123;</div><div class="line">					System.out.println(<span class="string">"命令输入错误！请根据提示输入数字命令！"</span>);</div><div class="line">					<span class="keyword">continue</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="comment">//若不出现“数组下标越界异常”，则返回相应位置的图书</span></div><div class="line">				String book = books[index];</div><div class="line">				<span class="keyword">return</span> book;</div><div class="line">			&#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;</div><div class="line">				<span class="comment">//输入的序号不存在（引发“数组下标越界异常”），则抛出“图书不存在异常”</span></div><div class="line">				Exception bookNotExists = <span class="keyword">new</span> Exception(<span class="string">"图书不存在！"</span>);</div><div class="line">				bookNotExists.initCause(e);</div><div class="line">				<span class="keyword">throw</span> bookNotExists;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//从控制台输入命令，用于输入命令和输入图书序号</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">inputCommand</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">int</span> command;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			command = console.nextInt();</div><div class="line">			<span class="keyword">return</span> command;</div><div class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">			<span class="comment">//若输入字符型或者字符串，则抛出异常，捕获该异常，抛出“错误命令异常”</span></div><div class="line">			console = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">			<span class="comment">//返回-1</span></div><div class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>&lt;span id=&quot;busuanzi_container_page_pv&quot;&gt;
本文已被阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt; 次。感谢您的点击！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-达达租车系统（Java实现）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/18/达达租车系统（Java实现）/" class="article-date">
      <time datetime="2017-03-18T10:52:48.000Z" itemprop="datePublished">2017-03-18</time>
</a>

 
    <a href="/2017/03/18/达达租车系统（Java实现）/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/18/达达租车系统（Java实现）/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/达达租车系统（Java实现）/">达达租车系统（Java实现）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170318155606137?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot;  style=&quot;float:right;&quot;/&gt;</p>
<p>java编写一个控制台版的“达达租车系统”。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1 id="目标">目标</h1>
<p>java编写一个控制台版的“达达租车系统”</p>
<h1 id="功能">功能</h1>
<p>1.展示所有可租车辆
2.选择车型、租车量
3.展示租车清单，包含：总金额、总载货量及其车型、总载人量及其车型</p>
<h1 id="三大分析">三大分析</h1>
<h2 id="数据模型分析">数据模型分析</h2>
<p><img src="http://img.blog.csdn.net/20170318155606137?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="数据模型分析"></p>
<h2 id="业务模型分析">业务模型分析</h2>
<p><img src="http://img.blog.csdn.net/20170318155829714?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="业务模型分析"></p>
<h2 id="显示和流程分析">显示和流程分析</h2>
<p><img src="http://img.blog.csdn.net/20170318160035300?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="显示和流程分析"></p>
<h2 id="成品">成品</h2>
<p><img src="http://img.blog.csdn.net/20170318180123743?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="租车页面"></p>
<p><img src="http://img.blog.csdn.net/20170318180319432?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="租车账单"></p>
<h1 id="思路">思路</h1>
<p>首先定义一个Car类，它包含基本功能：车名、载客数、载货量、日租金。接着创建三个小类，分别是客车类、货车类和皮卡类（既能载客又能载货），它们都继承Car类。最后需要一个主类，用于开启整个系统，调用每个小类。</p>
<h1 id="代码">代码</h1>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> rent;<span class="comment">//日租金</span></div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> people;<span class="comment">//载客人数</span></div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> loads;<span class="comment">//载货量</span></div><div class="line">	<span class="keyword">public</span> String name;<span class="comment">//车名</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRent</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> rent;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRent</span><span class="params">(<span class="keyword">int</span> rent)</span></span>&#123;</div><div class="line">	<span class="keyword">this</span>.rent=rent;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPeople</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> people;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPeople</span><span class="params">(<span class="keyword">int</span> people)</span></span>&#123;</div><div class="line">	<span class="keyword">this</span>.people=people;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLoads</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> loads;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLoads</span><span class="params">(<span class="keyword">int</span> loads)</span></span>&#123;</div><div class="line">	<span class="keyword">this</span>.loads=loads;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> name;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</div><div class="line">	<span class="keyword">this</span>.name=name;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>客车类
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PassageCar</span> <span class="keyword">extends</span> <span class="title">Car</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">PassageCar</span><span class="params">(String name,<span class="keyword">int</span> people,<span class="keyword">int</span> rent)</span></span>&#123;</div><div class="line">		<span class="keyword">this</span>.setName(name);</div><div class="line">		<span class="keyword">this</span>.setPeople(people);</div><div class="line">		<span class="keyword">this</span>.setRent(rent);</div><div class="line">		</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.getName()+<span class="string">"\t"</span>+<span class="keyword">this</span>.getPeople()+<span class="string">"\t\t\t\t"</span>+<span class="keyword">this</span>.getRent();</div><div class="line">				&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>卡车类
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Truck</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Truck</span><span class="params">(String name,<span class="keyword">int</span> loads,<span class="keyword">int</span> rent)</span></span>&#123;</div><div class="line">		<span class="keyword">this</span>.setName(name);</div><div class="line">		<span class="keyword">this</span>.setLoads(loads);</div><div class="line">		<span class="keyword">this</span>.setRent(rent);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.getName()+<span class="string">"\t\t\t"</span>+<span class="keyword">this</span>.getLoads()+<span class="string">"\t\t"</span>+<span class="keyword">this</span>.getRent();</div><div class="line">	&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>皮卡类
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pickup</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Pickup</span><span class="params">(String name,<span class="keyword">int</span> people,<span class="keyword">int</span> loads,<span class="keyword">int</span> rent)</span></span>&#123;</div><div class="line">		<span class="keyword">this</span>.setName(name);</div><div class="line">		<span class="keyword">this</span>.setPeople(people);</div><div class="line">		<span class="keyword">this</span>.setLoads(loads);</div><div class="line">		<span class="keyword">this</span>.setRent(rent);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.getName()+<span class="string">"\t"</span>+<span class="keyword">this</span>.getPeople()+<span class="string">"\t\t"</span>+<span class="keyword">this</span>.getLoads()+<span class="string">"\t\t"</span>+<span class="keyword">this</span>.getRent();</div><div class="line">	&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>主类
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jinger;</div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Initial</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//对各类车实例化并保存到cars数组</span></div><div class="line">		Car[] cars=&#123;</div><div class="line">				<span class="keyword">new</span> PassageCar(<span class="string">"奥迪A4"</span>,<span class="number">4</span>,<span class="number">500</span>),</div><div class="line">				<span class="keyword">new</span> PassageCar(<span class="string">"马自达6"</span>,<span class="number">4</span>,<span class="number">400</span>),</div><div class="line">				<span class="keyword">new</span> Pickup(<span class="string">"皮卡雪6"</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">450</span>),</div><div class="line">				<span class="keyword">new</span> PassageCar(<span class="string">"金龙"</span>,<span class="number">20</span>,<span class="number">800</span>),</div><div class="line">				<span class="keyword">new</span> Truck(<span class="string">"松花江"</span>,<span class="number">4</span>,<span class="number">400</span>),</div><div class="line">				<span class="keyword">new</span> Truck(<span class="string">"依维柯"</span>,<span class="number">20</span>,<span class="number">1000</span>)&#125;;</div><div class="line"></div><div class="line">		System.out.println(<span class="string">"****欢迎使用达达租车系统！****"</span>);</div><div class="line">		System.out.println(<span class="string">"****您确认租车吗？****"</span>+<span class="string">"\n"</span>+<span class="string">"是（请输入1） \t 否（请输入2）"</span>);</div><div class="line">	</div><div class="line">		Scanner in1=<span class="keyword">new</span> Scanner(System.in);</div><div class="line">		<span class="keyword">int</span> is=in1.nextInt();</div><div class="line">		<span class="keyword">if</span>(is!=<span class="number">1</span>)&#123;</div><div class="line">			System.out.println(<span class="string">"****欢迎下次光临！****"</span>);</div><div class="line">			System.exit(<span class="number">0</span>);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(is==<span class="number">1</span>)&#123;</div><div class="line">			System.out.println(<span class="string">"****您可租车的类型及价目表****"</span>);</div><div class="line">			System.out.println(<span class="string">"序号"</span>+<span class="string">"\t车名"</span>+<span class="string">"\t载客数（人）"</span>+<span class="string">"\t载货量（吨）"</span>+<span class="string">"\t日租金（元/天）"</span>);</div><div class="line">		</div><div class="line">			<span class="comment">//使用循环方式将各类车输出</span></div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cars.length;i++)&#123;</div><div class="line">				System.out.println((i+<span class="number">1</span>)+<span class="string">"\t"</span>+cars[i]);</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			</div><div class="line">			</div><div class="line">			System.out.println(<span class="string">"****请输入您的租车数量：****"</span>);</div><div class="line">			<span class="keyword">int</span> num1=in1.nextInt();</div><div class="line">			Car[] rentcar=<span class="keyword">new</span> Car[num1];</div><div class="line">			<span class="keyword">int</span> price=<span class="number">0</span>;<span class="comment">//总价格</span></div><div class="line">			<span class="keyword">int</span> totalpeople=<span class="number">0</span>;<span class="comment">//总人数</span></div><div class="line">			<span class="keyword">int</span> totalloads=<span class="number">0</span>;<span class="comment">//总载货量</span></div><div class="line">			</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num1;i++)&#123;</div><div class="line">				System.out.println(<span class="string">"****请输入第"</span>+(i+<span class="number">1</span>)+<span class="string">"辆车的序号：****"</span>);</div><div class="line">				<span class="keyword">int</span> numx=in1.nextInt();</div><div class="line">				rentcar[i]=cars[numx-<span class="number">1</span>];</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">			System.out.println(<span class="string">"****请输入天数：****"</span>);</div><div class="line">			<span class="keyword">int</span> day=in1.nextInt();</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num1;i++)&#123;</div><div class="line">			price=price+rentcar[i].rent *day;</div><div class="line">			&#125;</div><div class="line">			System.out.println(<span class="string">"****您的账单：****"</span>);</div><div class="line">			System.out.println(<span class="string">"已选载人车："</span>);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num1;i++)&#123;</div><div class="line">				<span class="keyword">if</span>(rentcar[i].people!=<span class="number">0</span>)&#123;</div><div class="line">					System.out.println(rentcar[i].name+<span class="string">"\t"</span>);</div><div class="line">				&#125;</div><div class="line">				</div><div class="line">				totalpeople=totalpeople+rentcar[i].people;</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			System.out.println(<span class="string">'\n'</span>);</div><div class="line">			System.out.println(<span class="string">"已选载货车："</span>);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num1;i++)&#123;</div><div class="line">				<span class="keyword">if</span>(rentcar[i].loads!=<span class="number">0</span>)&#123;</div><div class="line">					System.out.println(rentcar[i].name+<span class="string">"\t"</span>);</div><div class="line">				&#125;</div><div class="line">						</div><div class="line">				totalloads=totalloads+rentcar[i].loads;</div><div class="line">			&#125;</div><div class="line">		</div><div class="line">			</div><div class="line">					System.out.println(<span class="string">'\n'</span>);</div><div class="line">					System.out.println(<span class="string">"共载客："</span>+totalpeople+<span class="string">"人"</span>);</div><div class="line">					System.out.println(<span class="string">"共载货："</span>+totalloads+<span class="string">"吨"</span>);</div><div class="line">					System.out.println(<span class="string">"租车总价格："</span>+price+<span class="string">"元"</span>);</div><div class="line">					System.out.println(<span class="string">'\n'</span>);</div><div class="line">					System.out.println(<span class="string">"****感谢您的惠顾，欢迎再次光临！****"</span>);</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">			&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<h1 id="收获">收获</h1>
<p>思路决定编码。
编程要注重<code>自顶而下、逐步求精</code>的设计方法。</p>
<h1 id="源程序下载">源程序下载</h1>
<p>https://github.com/hubojing/Car-rental-system</p>
<p>&lt;span id=&quot;busuanzi_container_page_pv&quot;&gt;
本文已被阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt; 次。感谢您的点击！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-反省" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/06/反省/" class="article-date">
      <time datetime="2017-03-05T16:11:48.000Z" itemprop="datePublished">2017-03-06</time>
</a>

 
    <a href="/2017/03/06/反省/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
            <span class="ds-thread-count"  data-thread-key="2017/03/06/反省/" ></span>
        
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/06/反省/">别做井底之蛙</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1488743337927&amp;di=4273153cdba587ffa9e9dba1db8737fc&amp;imgtype=0&amp;src=http%3A%2F%2Fupload.admin5.com%2F2015%2F1121%2F1448071304470.jpg&quot; width=&quot;300&quot; height=&quot;180&quot;  style=&quot;float:right;&quot;/&gt;</p>
<p>即将毕业了，谈谈最近我关于技术的思考。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
最近总想给自己的四年打个分。
给个70分吧。
四年来，我一直认为，自己没有辜负这四年。这四年里，自己很多方面得到了成长。但直到最近，我发现了些什么。</p>
<p>这四年来，我一直是大家眼中的优秀学生，绩点高，学生工作也做得好。我时刻提醒自己，千万不要被眼前的赞誉迷了眼。我之所以显得优秀，是因为我所处的环境还不够好。
这是我的技术博客，关于其他方面就不提了。尤谈技术。</p>
<p>大一大二沉浸在繁忙的学生工作中，忽略了自己是个十足的工科生，只注重课堂学习，忽视了动手实践。大二在实验室的半年，收获有，却不是很大。一方面是学校实验室的建设不完善，最重要的是实验室方向不是我所感兴趣的，再加上我当时过于急于求成，收效甚微就心烦意乱。
大三卸任部分学生工作，时间多了出来。突然就意识到了自己的专业被自己落下了。于是就诞生了这个技术博客，记录我所学的知识。算是对自己学技术的一点弥补。后来表示不服，自己报名了计算机比赛，最后竟意外抱得国奖回，让自己开心了一阵。我就算没在实验室了，我还是能自己干出事情来！我是有些倔。
再后来考研。过程不说了，和所有考研人一样平常。
考完后让自己彻底放松了二个月，所有和学习的事情都放下了，包括这里。这也是为什么这段时间我的github绿的很少，以及博客长久未更的原因。</p>
<p>简历看似让人羡慕，可我近来愈发觉得，自己就是一只井底之蛙。
没有实验室的帮助，没有老师的指导，没有志同道合的伙伴，全靠自己一个人，自己的学习时常走入歧途。不过这都不重要，重要的是我只要愿意不断学习，总会越懂越多。
最近我看了大神和牛人甚至是认识的同学们的学习过程，自己的努力与之相比不值一提。之前即使我总是警告自己不要感动自己，可最终还是让自己浮在了表面。</p>
<p>我是通信工程专业的学生，却常“不务正业”地倒弄计算机专业的东西（不过这是我的兴趣所在，我也从不觉得是错误，通信和计算机本是一家），有时候我在想，我的本家知识还没学通学透呢？</p>
<p>寒假放松的两个月，有个网友隔几天就问我有没有敲代码。我都说没有。他当时批评我说，女生果然不适合干技术。我回复他，你可以指责我，但我不能代表整个女性群体。后来想想，他的批评是有理的，像我那样三天打鱼、两天晒网的学习，怎么会有效果？</p>
<p>最近我常常在想，我口口声声说爱技术，还有一个做学术做科研的愿望，到底是不是发自心底的？我在还没深入了解它的时候，有什么资格说爱它？</p>
<p>感觉自己被越甩越远，但自己不想在做井底之蛙了。虽然醒悟地有些晚，但好歹是想过来了。</p>
<p>即将毕业的我，让自己重新做回一个普通的学生，耐心的学习，安心做毕设，回归一个工科学生对技术所抱有的憧憬之心。</p>
<p>先给自己定一个小目标：让github重新绿起来。欢迎各位监督。</p>
<p>写于2017年3月6日凌晨1点</p>
<p>&lt;span id=&quot;busuanzi_container_page_pv&quot;&gt;
本文已被阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt; 次。感谢您的点击！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/杂谈/">杂谈</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/思考/">思考</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2015-2017 胡博靖
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 19;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


    
        <script>
            if ($(".left-col").is(":visible")) {
                var duoshuoQuery = {short_name:"hubojing"};
                (function() {
                    var d = document, s = d.createElement('script');
                    s.src = 'http://static.duoshuo.com/embed.js';
                    s.async = true; s.charset = 'UTF-8';
                    (d.head || d.body).appendChild(s);
                })();

                $(document).ready(function(){
                    var $duoshuoCount = $(".ds-thread-count");
                    $duoshuoCount.bind("DOMNodeInserted", function(e) {
                        var num = $(this).text().replace(/[^0-9]/ig,"");
                        $(this).siblings(".count-comment").text(num);
                        $(this).remove();
                    })
                })
            }
        </script>
    

     




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>